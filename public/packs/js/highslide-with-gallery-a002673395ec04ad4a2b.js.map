{"version":3,"file":"js/highslide-with-gallery-a002673395ec04ad4a2b.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/highslide-with-gallery.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/highslide-with-gallery.js\");\n","/** \r\n * Name:    Highslide JS\r\n * Version: 5.0.0 (2016-05-24)\r\n * Config:  default +slideshow +positioning +transitions +viewport +thumbstrip\n * Author:  Torstein HÃ¸nsi\r\n * Support: www.highslide.com/support\r\n * License: MIT\r\n */\r\nif (!hs) { var hs = {\r\n// Language strings\r\nlang : {\r\n\tcssDirection: 'ltr',\r\n\tloadingText : 'Loading...',\r\n\tloadingTitle : 'Click to cancel',\r\n\tfocusTitle : 'Click to bring to front',\r\n\tfullExpandTitle : 'Expand to actual size (f)',\r\n\tcreditsText : 'Powered by <i>Highslide JS</i>',\r\n\tcreditsTitle : 'Go to the Highslide JS homepage',\r\n\tpreviousText : 'Previous',\r\n\tnextText : 'Next', \r\n\tmoveText : 'Move',\r\n\tcloseText : 'Close', \r\n\tcloseTitle : 'Close (esc)', \r\n\tresizeTitle : 'Resize',\r\n\tplayText : 'Play',\r\n\tplayTitle : 'Play slideshow (spacebar)',\r\n\tpauseText : 'Pause',\r\n\tpauseTitle : 'Pause slideshow (spacebar)',\r\n\tpreviousTitle : 'Previous (arrow left)',\r\n\tnextTitle : 'Next (arrow right)',\r\n\tmoveTitle : 'Move',\r\n\tfullExpandText : '1:1',\r\n\tnumber: 'Image %1 of %2',\r\n\trestoreTitle : 'Click to close image, click and drag to move. Use arrow keys for next and previous.'\r\n},\r\n// See http://highslide.com/ref for examples of settings  \r\ngraphicsDir : 'highslide/graphics/',\r\nexpandCursor : 'zoomin.cur', // null disables\r\nrestoreCursor : 'zoomout.cur', // null disables\r\nexpandDuration : 250, // milliseconds\r\nrestoreDuration : 250,\r\nmarginLeft : 15,\r\nmarginRight : 15,\r\nmarginTop : 15,\r\nmarginBottom : 15,\r\nzIndexCounter : 1001, // adjust to other absolutely positioned elements\r\nloadingOpacity : 0.75,\r\nallowMultipleInstances: true,\r\nnumberOfImagesToPreload : 5,\r\noutlineWhileAnimating : 2, // 0 = never, 1 = always, 2 = HTML only \r\noutlineStartOffset : 3, // ends at 10\r\npadToMinWidth : false, // pad the popup width to make room for wide caption\r\nfullExpandPosition : 'bottom right',\r\nfullExpandOpacity : 1,\r\nshowCredits : true, // you can set this to false if you want\r\ncreditsHref : 'http://highslide.com/',\r\ncreditsTarget : '_self',\r\nenableKeyListener : true,\r\nopenerTagNames : ['a'], // Add more to allow slideshow indexing\r\ntransitions : [],\r\ntransitionDuration: 250,\r\ndimmingOpacity: 0, // Lightbox style dimming background\r\ndimmingDuration: 50, // 0 for instant dimming\r\n\r\nanchor : 'auto', // where the image expands from\r\nalign : 'auto', // position in the client (overrides anchor)\r\ntargetX: null, // the id of a target element\r\ntargetY: null,\r\ndragByHeading: true,\r\nminWidth: 200,\r\nminHeight: 200,\r\nallowSizeReduction: true, // allow the image to reduce to fit client size. If false, this overrides minWidth and minHeight\r\noutlineType : 'drop-shadow', // set null to disable outlines\nskin : {\r\n\tcontrols:\r\n\t\t'<div class=\"highslide-controls\"><ul>'+\r\n\t\t\t'<li class=\"highslide-previous\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.previousTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.previousText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-play\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.playTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.playText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-pause\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.pauseTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.pauseText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-next\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.nextTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.nextText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-move\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.moveTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.moveText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-full-expand\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.fullExpandTitle}\">'+\r\n\t\t\t\t'<span>{hs.lang.fullExpandText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t\t'<li class=\"highslide-close\">'+\r\n\t\t\t\t'<a href=\"#\" title=\"{hs.lang.closeTitle}\" >'+\r\n\t\t\t\t'<span>{hs.lang.closeText}</span></a>'+\r\n\t\t\t'</li>'+\r\n\t\t'</ul></div>'\r\n},\r\n// END OF YOUR SETTINGS\r\n\r\n\r\n// declare internal properties\r\npreloadTheseImages : [],\r\ncontinuePreloading: true,\r\nexpanders : [],\r\noverrides : [\r\n\t'allowSizeReduction',\r\n\t'useBox',\r\n\t'anchor',\r\n\t'align',\r\n\t'targetX',\r\n\t'targetY',\r\n\t'outlineType',\r\n\t'outlineWhileAnimating',\r\n\t'captionId',\r\n\t'captionText',\r\n\t'captionEval',\r\n\t'captionOverlay',\r\n\t'headingId',\r\n\t'headingText',\r\n\t'headingEval',\r\n\t'headingOverlay',\r\n\t'creditsPosition',\r\n\t'dragByHeading',\r\n\t'autoplay',\r\n\t'numberPosition',\r\n\t'transitions',\r\n\t'dimmingOpacity',\r\n\t\r\n\t'width',\r\n\t'height',\r\n\t\r\n\t'wrapperClassName',\r\n\t'minWidth',\r\n\t'minHeight',\r\n\t'maxWidth',\r\n\t'maxHeight',\r\n\t'pageOrigin',\r\n\t'slideshowGroup',\r\n\t'easing',\r\n\t'easingClose',\r\n\t'fadeInOut',\r\n\t'src'\r\n],\r\noverlays : [],\r\nidCounter : 0,\r\noPos : {\r\n\tx: ['leftpanel', 'left', 'center', 'right', 'rightpanel'],\r\n\ty: ['above', 'top', 'middle', 'bottom', 'below']\r\n},\r\nmouse: {},\r\nheadingOverlay: {},\r\ncaptionOverlay: {},\r\ntimers : [],\r\n\r\nslideshows : [],\r\n\r\npendingOutlines : {},\r\nclones : {},\r\nonReady: [],\r\nuaVersion: document.documentMode ||\tparseFloat((navigator.userAgent.toLowerCase().match( /.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [0,'0'])[1]),\r\nie : (document.all && !window.opera),\r\n//ie : navigator && /MSIE [678]/.test(navigator.userAgent), // ie9 compliant?\r\nsafari : /Safari/.test(navigator.userAgent),\r\ngeckoMac : /Macintosh.+rv:1\\.[0-8].+Gecko/.test(navigator.userAgent),\r\n\r\n$ : function (id) {\r\n\tif (id) return document.getElementById(id);\r\n},\r\n\r\npush : function (arr, val) {\r\n\tarr[arr.length] = val;\r\n},\r\n\r\ncreateElement : function (tag, attribs, styles, parent, nopad) {\r\n\tvar el = document.createElement(tag);\r\n\tif (attribs) hs.extend(el, attribs);\r\n\tif (nopad) hs.setStyles(el, {padding: 0, border: 'none', margin: 0});\r\n\tif (styles) hs.setStyles(el, styles);\r\n\tif (parent) parent.appendChild(el);\t\r\n\treturn el;\r\n},\r\n\r\nextend : function (el, attribs) {\r\n\tfor (var x in attribs) el[x] = attribs[x];\r\n\treturn el;\r\n},\r\n\r\nsetStyles : function (el, styles) {\r\n\tfor (var x in styles) {\r\n\t\tif (hs.ieLt9 && x == 'opacity') {\r\n\t\t\tif (styles[x] > 0.99) el.style.removeAttribute('filter');\n\t\t\telse el.style.filter = 'alpha(opacity='+ (styles[x] * 100) +')';\r\n\t\t}\r\n\t\telse el.style[x] = styles[x];\t\t\r\n\t}\r\n},\nanimate: function(el, prop, opt) {\n\tvar start,\r\n\t\tend,\r\n\t\tunit;\r\n\tif (typeof opt != 'object' || opt === null) {\r\n\t\tvar args = arguments;\r\n\t\topt = {\r\n\t\t\tduration: args[2],\r\n\t\t\teasing: args[3],\r\n\t\t\tcomplete: args[4]\r\n\t\t};\r\n\t}\r\n\tif (typeof opt.duration != 'number') opt.duration = 250;\r\n\topt.easing = Math[opt.easing] || Math.easeInQuad;\r\n\topt.curAnim = hs.extend({}, prop);\n\tfor (var name in prop) {\r\n\t\tvar e = new hs.fx(el, opt , name );\r\n\t\t\r\n\t\tstart = parseFloat(hs.css(el, name)) || 0;\r\n\t\tend = parseFloat(prop[name]);\r\n\t\tunit = name != 'opacity' ? 'px' : '';\n\t\t\r\n\t\te.custom( start, end, unit );\r\n\t}\t\r\n},\ncss: function(el, prop) {\r\n\tif (el.style[prop]) {\n\t\treturn el.style[prop];\r\n\t} else if (document.defaultView) {\n\t\treturn document.defaultView.getComputedStyle(el, null).getPropertyValue(prop);\r\n\r\n\t} else {\n\t\tif (prop == 'opacity') prop = 'filter';\r\n\t\tvar val = el.currentStyle[prop.replace(/\\-(\\w)/g, function (a, b){ return b.toUpperCase(); })];\r\n\t\tif (prop == 'filter') \r\n\t\t\tval = val.replace(/alpha\\(opacity=([0-9]+)\\)/, \r\n\t\t\t\tfunction (a, b) { return b / 100 });\r\n\t\treturn val === '' ? 1 : val;\r\n\t} \r\n},\r\n\r\ngetPageSize : function () {\r\n\tvar d = document, w = window, iebody = d.compatMode && d.compatMode != 'BackCompat' \r\n\t\t? d.documentElement : d.body,\r\n\t\tieLt9 = hs.ie && (hs.uaVersion < 9 || typeof pageXOffset == 'undefined');\r\n\t\r\n\tvar width = ieLt9 ? iebody.clientWidth : \r\n\t\t\t(d.documentElement.clientWidth || self.innerWidth),\r\n\t\theight = ieLt9 ? iebody.clientHeight : self.innerHeight;\r\n\ths.page = {\r\n\t\twidth: width,\r\n\t\theight: height,\t\t\r\n\t\tscrollLeft: ieLt9 ? iebody.scrollLeft : pageXOffset,\r\n\t\tscrollTop: ieLt9 ? iebody.scrollTop : pageYOffset\r\n\t};\r\n\treturn hs.page;\r\n},\r\n\r\ngetPosition : function(el)\t{\r\n\tvar p = { x: el.offsetLeft, y: el.offsetTop };\r\n\twhile (el.offsetParent)\t{\r\n\t\tel = el.offsetParent;\r\n\t\tp.x += el.offsetLeft;\r\n\t\tp.y += el.offsetTop;\r\n\t\tif (el != document.body && el != document.documentElement) {\r\n\t\t\tp.x -= el.scrollLeft;\r\n\t\t\tp.y -= el.scrollTop;\r\n\t\t}\r\n\t}\r\n\treturn p;\r\n},\r\n\r\nexpand : function(a, params, custom, type) {\r\n\tif (!a) a = hs.createElement('a', null, { display: 'none' }, hs.container);\r\n\tif (typeof a.getParams == 'function') return params;\t\r\n\ttry {\t\r\n\t\tnew hs.Expander(a, params, custom);\r\n\t\treturn false;\r\n\t} catch (e) { return true; }\r\n},\r\ngetElementByClass : function (el, tagName, className) {\r\n\tvar els = el.getElementsByTagName(tagName);\r\n\tfor (var i = 0; i < els.length; i++) {\r\n    \tif ((new RegExp(className)).test(els[i].className)) {\r\n\t\t\treturn els[i];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n},\r\nreplaceLang : function(s) {\r\n\ts = s.replace(/\\s/g, ' ');\r\n\tvar re = /{hs\\.lang\\.([^}]+)\\}/g,\r\n\t\tmatches = s.match(re),\r\n\t\tlang;\r\n\tif (matches) for (var i = 0; i < matches.length; i++) {\r\n\t\tlang = matches[i].replace(re, \"$1\");\r\n\t\tif (typeof hs.lang[lang] != 'undefined') s = s.replace(matches[i], hs.lang[lang]);\r\n\t}\r\n\treturn s;\r\n},\r\n\r\n\r\nfocusTopmost : function() {\r\n\tvar topZ = 0, \r\n\t\ttopmostKey = -1,\r\n\t\texpanders = hs.expanders,\r\n\t\texp,\r\n\t\tzIndex;\r\n\tfor (var i = 0; i < expanders.length; i++) {\r\n\t\texp = expanders[i];\r\n\t\tif (exp) {\r\n\t\t\tzIndex = exp.wrapper.style.zIndex;\r\n\t\t\tif (zIndex && zIndex > topZ) {\r\n\t\t\t\ttopZ = zIndex;\t\t\t\t\r\n\t\t\t\ttopmostKey = i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (topmostKey == -1) hs.focusKey = -1;\r\n\telse expanders[topmostKey].focus();\r\n},\r\n\r\ngetParam : function (a, param) {\r\n\ta.getParams = a.onclick;\r\n\tvar p = a.getParams ? a.getParams() : null;\r\n\ta.getParams = null;\r\n\t\r\n\treturn (p && typeof p[param] != 'undefined') ? p[param] : \r\n\t\t(typeof hs[param] != 'undefined' ? hs[param] : null);\n},\r\n\r\ngetSrc : function (a) {\r\n\tvar src = hs.getParam(a, 'src');\r\n\tif (src) return src;\r\n\treturn a.href;\r\n},\r\n\r\ngetNode : function (id) {\r\n\tvar node = hs.$(id), clone = hs.clones[id], a = {};\r\n\tif (!node && !clone) return null;\r\n\tif (!clone) {\r\n\t\tclone = node.cloneNode(true);\r\n\t\tclone.id = '';\r\n\t\ths.clones[id] = clone;\r\n\t\treturn node;\r\n\t} else {\r\n\t\treturn clone.cloneNode(true);\r\n\t}\r\n},\r\n\r\ndiscardElement : function(d) {\n\tif (d) hs.garbageBin.appendChild(d);\r\n\ths.garbageBin.innerHTML = '';\r\n},\r\ndim : function(exp) {\r\n\tif (!hs.dimmer) {\r\n\t\tisNew = true;\r\n\t\ths.dimmer = hs.createElement ('div', {\r\n\t\t\t\tclassName: 'highslide-dimming highslide-viewport-size',\r\n\t\t\t\towner: '',\r\n\t\t\t\tonclick: function() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\ths.close();\r\n\t\t\t\t}\r\n\t\t\t}, {\r\n                visibility: 'visible',\r\n\t\t\t\topacity: 0\r\n\t\t\t}, hs.container, true);\r\n\t\t\t\r\n\t\tif (/(Android|iPad|iPhone|iPod)/.test(navigator.userAgent)) {\r\n\t\t\tvar body = document.body;\r\n\t\t\tfunction pixDimmerSize() {\r\n\t\t\t\ths.setStyles(hs.dimmer, {\r\n\t\t\t\t\twidth: body.scrollWidth +'px',\r\n\t\t\t\t\theight: body.scrollHeight +'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tpixDimmerSize();\r\n\t\t\ths.addEventListener(window, 'resize', pixDimmerSize);\r\n\t\t}\r\n\t}\r\n\ths.dimmer.style.display = '';\r\n\r\n\tvar isNew = hs.dimmer.owner == '';\r\n\ths.dimmer.owner += '|'+ exp.key;\r\n\t\r\n\tif (isNew) {\r\n\t\tif (hs.geckoMac && hs.dimmingGeckoFix)\r\n\t\t\ths.setStyles(hs.dimmer, {\r\n\t\t\t\tbackground: 'url('+ hs.graphicsDir + 'geckodimmer.png)',\r\n\t\t\t\topacity: 1\r\n\t\t\t});\r\n\t\telse\r\n\t\t\ths.animate(hs.dimmer, { opacity: exp.dimmingOpacity }, hs.dimmingDuration);\r\n\t}\r\n},\r\nundim : function(key) {\r\n\tif (!hs.dimmer) return;\r\n\tif (typeof key != 'undefined') hs.dimmer.owner = hs.dimmer.owner.replace('|'+ key, '');\r\n\r\n\tif (\r\n\t\t(typeof key != 'undefined' && hs.dimmer.owner != '')\r\n\t\t|| (hs.upcoming && hs.getParam(hs.upcoming, 'dimmingOpacity'))\r\n\t) return;\r\n\r\n\tif (hs.geckoMac && hs.dimmingGeckoFix) hs.dimmer.style.display = 'none';\r\n\telse hs.animate(hs.dimmer, { opacity: 0 }, hs.dimmingDuration, null, function() {\r\n\t\ths.dimmer.style.display = 'none';\r\n\t});\r\n},\ntransit : function (adj, exp) {\r\n\tvar last = exp || hs.getExpander();\r\n\texp = last;\r\n\tif (hs.upcoming) return false;\r\n\telse hs.last = last;\r\n\ths.removeEventListener(document, window.opera ? 'keypress' : 'keydown', hs.keyHandler);\r\n\ttry {\r\n\t\ths.upcoming = adj;\r\n\t\tadj.onclick(); \t\t\r\n\t} catch (e){\r\n\t\ths.last = hs.upcoming = null;\r\n\t}\r\n\ttry {\n\t\tif (!adj || exp.transitions[1] != 'crossfade')\r\n\t\texp.close();\r\n\t} catch (e) {}\r\n\treturn false;\r\n},\r\n\r\npreviousOrNext : function (el, op) {\r\n\tvar exp = hs.getExpander(el);\r\n\tif (exp) return hs.transit(exp.getAdjacentAnchor(op), exp);\r\n\telse return false;\r\n},\r\n\r\nprevious : function (el) {\r\n\treturn hs.previousOrNext(el, -1);\r\n},\r\n\r\nnext : function (el) {\r\n\treturn hs.previousOrNext(el, 1);\t\r\n},\r\n\r\nkeyHandler : function(e) {\r\n\tif (!e) e = window.event;\r\n\tif (!e.target) e.target = e.srcElement; // ie\r\n\tif (typeof e.target.form != 'undefined') return true; // form element has focus\r\n\tvar exp = hs.getExpander();\r\n\t\r\n\tvar op = null;\r\n\tswitch (e.keyCode) {\r\n\t\tcase 70: // f\r\n\t\t\tif (exp) exp.doFullExpand();\r\n\t\t\treturn true;\r\n\t\tcase 32: // Space\r\n\t\t\top = 2;\r\n\t\t\tbreak;\r\n\t\tcase 34: // Page Down\r\n\t\tcase 39: // Arrow right\r\n\t\tcase 40: // Arrow down\r\n\t\t\top = 1;\r\n\t\t\tbreak;\r\n\t\tcase 8:  // Backspace\r\n\t\tcase 33: // Page Up\r\n\t\tcase 37: // Arrow left\r\n\t\tcase 38: // Arrow up\r\n\t\t\top = -1;\r\n\t\t\tbreak;\r\n\t\tcase 27: // Escape\r\n\t\tcase 13: // Enter\r\n\t\t\top = 0;\r\n\t}\r\n\tif (op !== null) {if (op != 2)hs.removeEventListener(document, window.opera ? 'keypress' : 'keydown', hs.keyHandler);\r\n\t\tif (!hs.enableKeyListener) return true;\r\n\t\t\r\n\t\tif (e.preventDefault) e.preventDefault();\r\n    \telse e.returnValue = false;\r\n    \tif (exp) {\r\n\t\t\tif (op == 0) {\r\n\t\t\t\texp.close();\r\n\t\t\t} else if (op == 2) {\r\n\t\t\t\tif (exp.slideshow) exp.slideshow.hitSpace();\r\n\t\t\t} else {\r\n\t\t\t\tif (exp.slideshow) exp.slideshow.pause();\r\n\t\t\t\ths.previousOrNext(exp.key, op);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n},\r\n\r\n\r\nregisterOverlay : function (overlay) {\r\n\ths.push(hs.overlays, hs.extend(overlay, { hsId: 'hsId'+ hs.idCounter++ } ));\r\n},\r\n\r\n\r\naddSlideshow : function (options) {\r\n\tvar sg = options.slideshowGroup;\r\n\tif (typeof sg == 'object') {\r\n\t\tfor (var i = 0; i < sg.length; i++) {\r\n\t\t\tvar o = {};\r\n\t\t\tfor (var x in options) o[x] = options[x];\r\n\t\t\to.slideshowGroup = sg[i];\r\n\t\t\ths.push(hs.slideshows, o);\r\n\t\t}\r\n\t} else {\r\n\t\ths.push(hs.slideshows, options);\r\n\t}\r\n},\r\n\r\ngetWrapperKey : function (element, expOnly) {\r\n\tvar el, re = /^highslide-wrapper-([0-9]+)$/;\r\n\t// 1. look in open expanders\r\n\tel = element;\r\n\twhile (el.parentNode)\t{\r\n\t\tif (el.hsKey !== undefined) return el.hsKey;\r\n\t\tif (el.id && re.test(el.id)) return el.id.replace(re, \"$1\");\r\n\t\tel = el.parentNode;\r\n\t}\r\n\t// 2. look in thumbnail\r\n\tif (!expOnly) {\r\n\t\tel = element;\r\n\t\twhile (el.parentNode)\t{\r\n\t\t\tif (el.tagName && hs.isHsAnchor(el)) {\r\n\t\t\t\tfor (var key = 0; key < hs.expanders.length; key++) {\r\n\t\t\t\t\tvar exp = hs.expanders[key];\r\n\t\t\t\t\tif (exp && exp.a == el) return key;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tel = el.parentNode;\r\n\t\t}\r\n\t}\r\n\treturn null; \r\n},\r\n\r\ngetExpander : function (el, expOnly) {\r\n\tif (typeof el == 'undefined') return hs.expanders[hs.focusKey] || null;\r\n\tif (typeof el == 'number') return hs.expanders[el] || null;\r\n\tif (typeof el == 'string') el = hs.$(el);\r\n\treturn hs.expanders[hs.getWrapperKey(el, expOnly)] || null;\r\n},\r\n\r\nisHsAnchor : function (a) {\r\n\treturn (a.onclick && a.onclick.toString().replace(/\\s/g, ' ').match(/hs.(htmlE|e)xpand/));\r\n},\r\n\r\nreOrder : function () {\r\n\tfor (var i = 0; i < hs.expanders.length; i++)\r\n\t\tif (hs.expanders[i] && hs.expanders[i].isExpanded) hs.focusTopmost();\r\n},\r\n\r\nmouseClickHandler : function(e) \r\n{\t\r\n\tif (!e) e = window.event;\r\n\tif (e.button > 1) return true;\r\n\tif (!e.target) e.target = e.srcElement;\r\n\t\r\n\tvar el = e.target;\r\n\twhile (el.parentNode\r\n\t\t&& !(/highslide-(image|move|html|resize)/.test(el.className)))\r\n\t{\r\n\t\tel = el.parentNode;\r\n\t}\r\n\tvar exp = hs.getExpander(el);\r\n\tif (exp && (exp.isClosing || !exp.isExpanded)) return true;\r\n\t\t\r\n\tif (exp && e.type == 'mousedown') {\r\n\t\tif (e.target.form) return true;\r\n\t\tvar match = el.className.match(/highslide-(image|move|resize)/);\r\n\t\tif (match) {\r\n\t\t\ths.dragArgs = { \r\n\t\t\t\texp: exp , \r\n\t\t\t\ttype: match[1], \r\n\t\t\t\tleft: exp.x.pos, \r\n\t\t\t\twidth: exp.x.size, \r\n\t\t\t\ttop: exp.y.pos, \r\n\t\t\t\theight: exp.y.size, \r\n\t\t\t\tclickX: e.clientX, \r\n\t\t\t\tclickY: e.clientY\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ths.addEventListener(document, 'mousemove', hs.dragHandler);\r\n\t\t\tif (e.preventDefault) e.preventDefault(); // FF\r\n\t\t\t\r\n\t\t\tif (/highslide-(image|html)-blur/.test(exp.content.className)) {\r\n\t\t\t\texp.focus();\r\n\t\t\t\ths.hasFocused = true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else if (e.type == 'mouseup') {\r\n\t\t\r\n\t\ths.removeEventListener(document, 'mousemove', hs.dragHandler);\r\n\t\t\r\n\t\tif (hs.dragArgs) {\r\n\t\t\tif (hs.styleRestoreCursor && hs.dragArgs.type == 'image') \r\n\t\t\t\ths.dragArgs.exp.content.style.cursor = hs.styleRestoreCursor;\r\n\t\t\tvar hasDragged = hs.dragArgs.hasDragged;\r\n\t\t\t\r\n\t\t\tif (!hasDragged &&!hs.hasFocused && !/(move|resize)/.test(hs.dragArgs.type)) {\r\n\t\t\t\texp.close();\r\n\t\t\t} \r\n\t\t\telse if (hasDragged || (!hasDragged && hs.hasHtmlExpanders)) {\r\n\t\t\t\ths.dragArgs.exp.doShowHide('hidden');\r\n\t\t\t}\r\n\t\t\ths.hasFocused = false;\r\n\t\t\ths.dragArgs = null;\r\n\t\t\r\n\t\t} else if (/highslide-image-blur/.test(el.className)) {\r\n\t\t\tel.style.cursor = hs.styleRestoreCursor;\t\t\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n},\r\n\r\ndragHandler : function(e)\r\n{\r\n\tif (!hs.dragArgs) return true;\r\n\tif (!e) e = window.event;\r\n\tvar a = hs.dragArgs, exp = a.exp;\r\n\t\r\n\ta.dX = e.clientX - a.clickX;\r\n\ta.dY = e.clientY - a.clickY;\t\r\n\t\r\n\tvar distance = Math.sqrt(Math.pow(a.dX, 2) + Math.pow(a.dY, 2));\r\n\tif (!a.hasDragged) a.hasDragged = (a.type != 'image' && distance > 0)\r\n\t\t|| (distance > (hs.dragSensitivity || 5));\r\n\t\r\n\tif (a.hasDragged && e.clientX > 5 && e.clientY > 5) {\r\n\t\t\r\n\t\tif (a.type == 'resize') exp.resize(a);\r\n\t\telse {\r\n\t\t\texp.moveTo(a.left + a.dX, a.top + a.dY);\r\n\t\t\tif (a.type == 'image') exp.content.style.cursor = 'move';\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n},\r\n\r\nwrapperMouseHandler : function (e) {\r\n\ttry {\n\t\tif (!e) e = window.event;\r\n\t\tvar over = /mouseover/i.test(e.type); \r\n\t\tif (!e.target) e.target = e.srcElement; // ie\r\n\t\tif (!e.relatedTarget) e.relatedTarget = \r\n\t\t\tover ? e.fromElement : e.toElement; // ie\r\n\t\tvar exp = hs.getExpander(e.target);\r\n\t\tif (!exp.isExpanded) return;\r\n\t\tif (!exp || !e.relatedTarget || hs.getExpander(e.relatedTarget, true) == exp \r\n\t\t\t|| hs.dragArgs) return;\r\n\t\tfor (var i = 0; i < exp.overlays.length; i++) (function() {\r\n\t\t\tvar o = hs.$('hsId'+ exp.overlays[i]);\r\n\t\t\tif (o && o.hideOnMouseOut) {\r\n\t\t\t\tif (over) hs.setStyles(o, { visibility: 'visible', display: '' });\r\n\t\t\t\ths.animate(o, { opacity: over ? o.opacity : 0 }, o.dur);\r\n\t\t\t}\r\n\t\t})();\t\r\n\t} catch (e) {}\r\n},\r\naddEventListener : function (el, event, func) {\r\n\tif (el == document && event == 'ready') {\r\n\t\ths.push(hs.onReady, func);\r\n\t}\r\n\ttry {\r\n\t\tel.addEventListener(event, func, false);\r\n\t} catch (e) {\r\n\t\ttry {\r\n\t\t\tel.detachEvent('on'+ event, func);\r\n\t\t\tel.attachEvent('on'+ event, func);\r\n\t\t} catch (e) {\r\n\t\t\tel['on'+ event] = func;\r\n\t\t}\r\n\t} \r\n},\r\n\r\nremoveEventListener : function (el, event, func) {\r\n\ttry {\r\n\t\tel.removeEventListener(event, func, false);\r\n\t} catch (e) {\r\n\t\ttry {\r\n\t\t\tel.detachEvent('on'+ event, func);\r\n\t\t} catch (e) {\r\n\t\t\tel['on'+ event] = null;\r\n\t\t}\r\n\t}\r\n},\r\n\r\npreloadFullImage : function (i) {\r\n\tif (hs.continuePreloading && hs.preloadTheseImages[i] && hs.preloadTheseImages[i] != 'undefined') {\r\n\t\tvar img = document.createElement('img');\r\n\t\timg.onload = function() { \r\n\t\t\timg = null;\n\t\t\ths.preloadFullImage(i + 1);\r\n\t\t};\r\n\t\timg.src = hs.preloadTheseImages[i];\r\n\t}\r\n},\r\npreloadImages : function (number) {\r\n\tif (number && typeof number != 'object') hs.numberOfImagesToPreload = number;\r\n\t\r\n\tvar arr = hs.getAnchors();\r\n\tfor (var i = 0; i < arr.images.length && i < hs.numberOfImagesToPreload; i++) {\r\n\t\ths.push(hs.preloadTheseImages, hs.getSrc(arr.images[i]));\r\n\t}\r\n\t\r\n\t// preload outlines\r\n\tif (hs.outlineType)\tnew hs.Outline(hs.outlineType, function () { hs.preloadFullImage(0)} );\r\n\telse\r\n\t\r\n\ths.preloadFullImage(0);\r\n\t\r\n\t// preload cursor\r\n\tif (hs.restoreCursor) var cur = hs.createElement('img', { src: hs.graphicsDir + hs.restoreCursor });\r\n},\r\n\r\n\r\ninit : function () {\r\n\tif (!hs.container) {\r\n\t\r\n\t\ths.ieLt7 = hs.ie && hs.uaVersion < 7;\r\n\t\ths.ieLt9 = hs.ie && hs.uaVersion < 9;\r\n\t\t\r\n\t\ths.getPageSize();\n\t\tfor (var x in hs.langDefaults) {\r\n\t\t\tif (typeof hs[x] != 'undefined') hs.lang[x] = hs[x];\r\n\t\t\telse if (typeof hs.lang[x] == 'undefined' && typeof hs.langDefaults[x] != 'undefined') \r\n\t\t\t\ths.lang[x] = hs.langDefaults[x];\r\n\t\t}\r\n\t\t\r\n\t\ths.container = hs.createElement('div', {\r\n\t\t\t\tclassName: 'highslide-container'\r\n\t\t\t}, {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tleft: 0, \r\n\t\t\t\ttop: 0, \r\n\t\t\t\twidth: '100%', \r\n\t\t\t\tzIndex: hs.zIndexCounter,\r\n\t\t\t\tdirection: 'ltr'\r\n\t\t\t}, \r\n\t\t\tdocument.body,\r\n\t\t\ttrue\r\n\t\t);\r\n\t\ths.loading = hs.createElement('a', {\r\n\t\t\t\tclassName: 'highslide-loading',\r\n\t\t\t\ttitle: hs.lang.loadingTitle,\r\n\t\t\t\tinnerHTML: hs.lang.loadingText,\r\n\t\t\t\thref: 'javascript:;'\r\n\t\t\t}, {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '-9999px',\r\n\t\t\t\topacity: hs.loadingOpacity,\r\n\t\t\t\tzIndex: 1\r\n\t\t\t}, hs.container\r\n\t\t);\r\n\t\ths.garbageBin = hs.createElement('div', null, { display: 'none' }, hs.container);\r\n\t\ths.viewport = hs.createElement('div', {\r\n\t\t\t\tclassName: 'highslide-viewport highslide-viewport-size'\r\n\t\t\t}, {\n\t\t\t\tvisibility: (hs.safari && hs.uaVersion < 525) ? 'visible' : 'hidden'\r\n\t\t\t}, hs.container, 1\r\n\t\t);\r\n\t\t\r\n\t\t// http://www.robertpenner.com/easing/ \r\n\t\tMath.linearTween = function (t, b, c, d) {\r\n\t\t\treturn c*t/d + b;\r\n\t\t};\r\n\t\tMath.easeInQuad = function (t, b, c, d) {\r\n\t\t\treturn c*(t/=d)*t + b;\r\n\t\t};\r\n\t\tMath.easeOutQuad = function (t, b, c, d) {\r\n\t\t\treturn -c *(t/=d)*(t-2) + b;\r\n\t\t};\r\n\t\t\r\n\t\ths.hideSelects = hs.ieLt7;\r\n\t\ths.hideIframes = ((window.opera && hs.uaVersion < 9) || navigator.vendor == 'KDE' \r\n\t\t\t|| (hs.ieLt7 && hs.uaVersion < 5.5));\r\n\t}\r\n},\r\nready : function() {\r\n\tif (hs.isReady) return;\r\n\ths.isReady = true;\r\n\tfor (var i = 0; i < hs.onReady.length; i++) hs.onReady[i]();\r\n},\r\n\r\nupdateAnchors : function() {\r\n\tvar el, els, all = [], images = [],groups = {}, re;\r\n\t\t\r\n\tfor (var i = 0; i < hs.openerTagNames.length; i++) {\n\t\tels = document.getElementsByTagName(hs.openerTagNames[i]);\r\n\t\tfor (var j = 0; j < els.length; j++) {\n\t\t\tel = els[j];\r\n\t\t\tre = hs.isHsAnchor(el);\r\n\t\t\tif (re) {\r\n\t\t\t\ths.push(all, el);\n\t\t\t\tif (re[0] == 'hs.expand') hs.push(images, el);\n\t\t\t\tvar g = hs.getParam(el, 'slideshowGroup') || 'none';\r\n\t\t\t\tif (!groups[g]) groups[g] = [];\r\n\t\t\t\ths.push(groups[g], el);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\ths.anchors = { all: all, groups: groups, images: images };\r\n\treturn hs.anchors;\r\n\t\r\n},\r\n\r\ngetAnchors : function() {\r\n\treturn hs.anchors || hs.updateAnchors();\r\n},\r\n\r\n\r\nclose : function(el) {\r\n\tvar exp = hs.getExpander(el);\r\n\tif (exp) exp.close();\r\n\treturn false;\r\n}\r\n}; // end hs object\nhs.fx = function( elem, options, prop ){\r\n\tthis.options = options;\r\n\tthis.elem = elem;\r\n\tthis.prop = prop;\r\n\r\n\tif (!options.orig) options.orig = {};\r\n};\r\nhs.fx.prototype = {\n\tupdate: function(){\n\t\t(hs.fx.step[this.prop] || hs.fx.step._default)(this);\r\n\t\t\r\n\t\tif (this.options.step)\r\n\t\t\tthis.options.step.call(this.elem, this.now, this);\r\n\r\n\t},\n\tcustom: function(from, to, unit){\r\n\t\tthis.startTime = (new Date()).getTime();\r\n\t\tthis.start = from;\r\n\t\tthis.end = to;\r\n\t\tthis.unit = unit;// || this.unit || \"px\";\r\n\t\tthis.now = this.start;\r\n\t\tthis.pos = this.state = 0;\r\n\r\n\t\tvar self = this;\r\n\t\tfunction t(gotoEnd){\r\n\t\t\treturn self.step(gotoEnd);\r\n\t\t}\r\n\r\n\t\tt.elem = this.elem;\r\n\r\n\t\tif ( t() && hs.timers.push(t) == 1 ) {\r\n\t\t\ths.timerId = setInterval(function(){\r\n\t\t\t\tvar timers = hs.timers;\r\n\r\n\t\t\t\tfor ( var i = 0; i < timers.length; i++ )\r\n\t\t\t\t\tif ( !timers[i]() )\r\n\t\t\t\t\t\ttimers.splice(i--, 1);\r\n\r\n\t\t\t\tif ( !timers.length ) {\r\n\t\t\t\t\tclearInterval(hs.timerId);\r\n\t\t\t\t}\r\n\t\t\t}, 13);\r\n\t\t}\r\n\t},\n\tstep: function(gotoEnd){\r\n\t\tvar t = (new Date()).getTime();\r\n\t\tif ( gotoEnd || t >= this.options.duration + this.startTime ) {\r\n\t\t\tthis.now = this.end;\r\n\t\t\tthis.pos = this.state = 1;\r\n\t\t\tthis.update();\r\n\r\n\t\t\tthis.options.curAnim[ this.prop ] = true;\r\n\r\n\t\t\tvar done = true;\r\n\t\t\tfor ( var i in this.options.curAnim )\r\n\t\t\t\tif ( this.options.curAnim[i] !== true )\r\n\t\t\t\t\tdone = false;\r\n\r\n\t\t\tif ( done ) {\n\t\t\t\tif (this.options.complete) this.options.complete.call(this.elem);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tvar n = t - this.startTime;\r\n\t\t\tthis.state = n / this.options.duration;\n\t\t\tthis.pos = this.options.easing(n, 0, 1, this.options.duration);\r\n\t\t\tthis.now = this.start + ((this.end - this.start) * this.pos);\n\t\t\tthis.update();\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n};\r\n\r\nhs.extend( hs.fx, {\r\n\tstep: {\r\n\r\n\t\topacity: function(fx){\r\n\t\t\ths.setStyles(fx.elem, { opacity: fx.now });\r\n\t\t},\r\n\r\n\t\t_default: function(fx){\r\n\t\t\ttry {\n\t\t\t\tif ( fx.elem.style && fx.elem.style[ fx.prop ] != null )\r\n\t\t\t\t\tfx.elem.style[ fx.prop ] = fx.now + fx.unit;\r\n\t\t\t\telse\r\n\t\t\t\t\tfx.elem[ fx.prop ] = fx.now;\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nhs.Outline =  function (outlineType, onLoad) {\r\n\tthis.onLoad = onLoad;\r\n\tthis.outlineType = outlineType;\r\n\tvar v = hs.uaVersion, tr;\r\n\t\r\n\tthis.hasAlphaImageLoader = hs.ie && hs.uaVersion < 7;\r\n\tif (!outlineType) {\r\n\t\tif (onLoad) onLoad();\r\n\t\treturn;\r\n\t}\r\n\t\r\n\ths.init();\r\n\tthis.table = hs.createElement(\r\n\t\t'table', { \r\n\t\t\tcellSpacing: 0 \r\n\t\t}, {\r\n\t\t\tvisibility: 'hidden',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tborderCollapse: 'collapse',\r\n\t\t\twidth: 0\r\n\t\t},\r\n\t\ths.container,\r\n\t\ttrue\r\n\t);\r\n\tvar tbody = hs.createElement('tbody', null, null, this.table, 1);\r\n\t\r\n\tthis.td = [];\r\n\tfor (var i = 0; i <= 8; i++) {\r\n\t\tif (i % 3 == 0) tr = hs.createElement('tr', null, { height: 'auto' }, tbody, true);\r\n\t\tthis.td[i] = hs.createElement('td', null, null, tr, true);\r\n\t\tvar style = i != 4 ? { lineHeight: 0, fontSize: 0} : { position : 'relative' };\r\n\t\ths.setStyles(this.td[i], style);\r\n\t}\r\n\tthis.td[4].className = outlineType +' highslide-outline';\r\n\t\r\n\tthis.preloadGraphic(); \r\n};\r\n\r\nhs.Outline.prototype = {\r\npreloadGraphic : function () {\r\n\tvar src = hs.graphicsDir + (hs.outlinesDir || \"outlines/\")+ this.outlineType +\".png\";\r\n\t\t\t\t\r\n\tvar appendTo = hs.safari && hs.uaVersion < 525 ? hs.container : null;\r\n\tthis.graphic = hs.createElement('img', null, { position: 'absolute', \r\n\t\ttop: '-9999px' }, appendTo, true); // for onload trigger\r\n\t\r\n\tvar pThis = this;\r\n\tthis.graphic.onload = function() { pThis.onGraphicLoad(); };\r\n\t\r\n\tthis.graphic.src = src;\r\n},\r\n\r\nonGraphicLoad : function () {\r\n\tvar o = this.offset = this.graphic.width / 4,\r\n\t\tpos = [[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],\r\n\t\tdim = { height: (2*o) +'px', width: (2*o) +'px' };\r\n\tfor (var i = 0; i <= 8; i++) {\r\n\t\tif (pos[i]) {\r\n\t\t\tif (this.hasAlphaImageLoader) {\r\n\t\t\t\tvar w = (i == 1 || i == 7) ? '100%' : this.graphic.width +'px';\r\n\t\t\t\tvar div = hs.createElement('div', null, { width: '100%', height: '100%', position: 'relative', overflow: 'hidden'}, this.td[i], true);\r\n\t\t\t\ths.createElement ('div', null, { \r\n\t\t\t\t\t\tfilter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='\"+ this.graphic.src + \"')\", \r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\twidth: w, \r\n\t\t\t\t\t\theight: this.graphic.height +'px',\r\n\t\t\t\t\t\tleft: (pos[i][0]*o)+'px',\r\n\t\t\t\t\t\ttop: (pos[i][1]*o)+'px'\r\n\t\t\t\t\t}, \r\n\t\t\t\tdiv,\r\n\t\t\t\ttrue);\r\n\t\t\t} else {\r\n\t\t\t\ths.setStyles(this.td[i], { background: 'url('+ this.graphic.src +') '+ (pos[i][0]*o)+'px '+(pos[i][1]*o)+'px'});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (window.opera && (i == 3 || i ==5)) \r\n\t\t\t\ths.createElement('div', null, dim, this.td[i], true);\r\n\t\t\t\r\n\t\t\ths.setStyles (this.td[i], dim);\r\n\t\t}\r\n\t}\r\n\tthis.graphic = null;\r\n\tif (hs.pendingOutlines[this.outlineType]) hs.pendingOutlines[this.outlineType].destroy();\r\n\ths.pendingOutlines[this.outlineType] = this;\r\n\tif (this.onLoad) this.onLoad();\r\n},\r\n\t\r\nsetPosition : function (pos, offset, vis, dur, easing) {\r\n\tvar exp = this.exp,\r\n\t\tstl = exp.wrapper.style,\r\n\t\toffset = offset || 0,\r\n\t\tpos = pos || {\r\n\t\t\tx: exp.x.pos + offset,\r\n\t\t\ty: exp.y.pos + offset,\r\n\t\t\tw: exp.x.get('wsize') - 2 * offset,\r\n\t\t\th: exp.y.get('wsize') - 2 * offset\r\n\t\t};\r\n\tif (vis) this.table.style.visibility = (pos.h >= 4 * this.offset) \r\n\t\t? 'visible' : 'hidden';\r\n\ths.setStyles(this.table, {\r\n\t\tleft: (pos.x - this.offset) +'px',\r\n\t\ttop: (pos.y - this.offset) +'px',\r\n\t\twidth: (pos.w + 2 * this.offset) +'px'\r\n\t});\r\n\t\r\n\tpos.w -= 2 * this.offset;\r\n\tpos.h -= 2 * this.offset;\r\n\ths.setStyles (this.td[4], {\r\n\t\twidth: pos.w >= 0 ? pos.w +'px' : 0,\r\n\t\theight: pos.h >= 0 ? pos.h +'px' : 0\r\n\t});\r\n\tif (this.hasAlphaImageLoader) this.td[3].style.height \r\n\t\t= this.td[5].style.height = this.td[4].style.height;\t\r\n\t\r\n},\r\n\t\r\ndestroy : function(hide) {\r\n\tif (hide) this.table.style.visibility = 'hidden';\r\n\telse hs.discardElement(this.table);\r\n}\r\n};\r\n\r\nhs.Dimension = function(exp, dim) {\r\n\tthis.exp = exp;\r\n\tthis.dim = dim;\r\n\tthis.ucwh = dim == 'x' ? 'Width' : 'Height';\n\tthis.wh = this.ucwh.toLowerCase();\n\tthis.uclt = dim == 'x' ? 'Left' : 'Top';\n\tthis.lt = this.uclt.toLowerCase();\n\tthis.ucrb = dim == 'x' ? 'Right' : 'Bottom';\n\tthis.rb = this.ucrb.toLowerCase();\n\tthis.p1 = this.p2 = 0;\n};\r\nhs.Dimension.prototype = {\r\nget : function(key) {\r\n\tswitch (key) {\r\n\t\tcase 'loadingPos':\r\n\t\t\treturn this.tpos + this.tb + (this.t - hs.loading['offset'+ this.ucwh]) / 2;\r\n\t\tcase 'loadingPosXfade':\r\n\t\t\treturn this.pos + this.cb+ this.p1 + (this.size - hs.loading['offset'+ this.ucwh]) / 2;\r\n\t\tcase 'wsize':\n\t\t\treturn this.size + 2 * this.cb + this.p1 + this.p2;\r\n\t\tcase 'fitsize':\n\t\t\treturn this.clientSize - this.marginMin - this.marginMax;\r\n\t\tcase 'maxsize':\n\t\t\treturn this.get('fitsize') - 2 * this.cb - this.p1 - this.p2 ;\r\n\t\tcase 'opos':\n\t\t\treturn this.pos - (this.exp.outline ? this.exp.outline.offset : 0);\r\n\t\tcase 'osize':\n\t\t\treturn this.get('wsize') + (this.exp.outline ? 2*this.exp.outline.offset : 0);\r\n\t\tcase 'imgPad':\n\t\t\treturn this.imgSize ? Math.round((this.size - this.imgSize) / 2) : 0;\r\n\t\t\r\n\t}\r\n},\r\ncalcBorders: function() {\r\n\t// correct for borders\r\n\tthis.cb = (this.exp.content['offset'+ this.ucwh] - this.t) / 2;\n\t\r\n\tthis.marginMax = hs['margin'+ this.ucrb];\r\n},\r\ncalcThumb: function() {\r\n\tthis.t = this.exp.el[this.wh] ? parseInt(this.exp.el[this.wh]) : \r\n\t\tthis.exp.el['offset'+ this.ucwh];\n\tthis.tpos = this.exp.tpos[this.dim];\n\tthis.tb = (this.exp.el['offset'+ this.ucwh] - this.t) / 2;\n\tif (this.tpos == 0 || this.tpos == -1) {\n\t\tthis.tpos = (hs.page[this.wh] / 2) + hs.page['scroll'+ this.uclt];\t\t\r\n\t};\r\n},\r\ncalcExpanded: function() {\r\n\tvar exp = this.exp;\r\n\tthis.justify = 'auto';\r\n\t\r\n\t// get alignment\r\n\tif (exp.align == 'center') this.justify = 'center';\r\n\telse if (new RegExp(this.lt).test(exp.anchor)) this.justify = null;\r\n\telse if (new RegExp(this.rb).test(exp.anchor)) this.justify = 'max';\r\n\t\r\n\t\r\n\t// size and position\r\n\tthis.pos = this.tpos - this.cb + this.tb;\n\t\r\n\tif (this.maxHeight && this.dim == 'x')\n\t\texp.maxWidth = Math.min(exp.maxWidth || this.full, exp.maxHeight * this.full / exp.y.full); \r\n\t\t\r\n\tthis.size = Math.min(this.full, exp['max'+ this.ucwh] || this.full);\r\n\tthis.minSize = exp.allowSizeReduction ? \r\n\t\tMath.min(exp['min'+ this.ucwh], this.full) :this.full;\r\n\tif (exp.isImage && exp.useBox)\t{\r\n\t\tthis.size = exp[this.wh];\r\n\t\tthis.imgSize = this.full;\r\n\t}\r\n\tif (this.dim == 'x' && hs.padToMinWidth) this.minSize = exp.minWidth;\r\n\tthis.target = exp['target'+ this.dim.toUpperCase()];\r\n\tthis.marginMin = hs['margin'+ this.uclt];\r\n\tthis.scroll = hs.page['scroll'+ this.uclt];\r\n\tthis.clientSize = hs.page[this.wh];\r\n},\r\nsetSize: function(i) {\r\n\tvar exp = this.exp;\r\n\tif (exp.isImage && (exp.useBox || hs.padToMinWidth)) {\r\n\t\tthis.imgSize = i;\r\n\t\tthis.size = Math.max(this.size, this.imgSize);\r\n\t\texp.content.style[this.lt] = this.get('imgPad')+'px';\r\n\t} else\r\n\tthis.size = i;\r\n\t\r\n\texp.content.style[this.wh] = i +'px';\r\n\texp.wrapper.style[this.wh] = this.get('wsize') +'px';\r\n\tif (exp.outline) exp.outline.setPosition();\r\n\tif (this.dim == 'x' && exp.overlayBox) exp.sizeOverlayBox(true);\r\n\tif (this.dim == 'x' && exp.slideshow && exp.isImage) {\r\n\t\tif (i == this.full) exp.slideshow.disable('full-expand');\r\n\t\telse exp.slideshow.enable('full-expand');\r\n\t}\r\n},\r\nsetPos: function(i) {\r\n\tthis.pos = i;\r\n\tthis.exp.wrapper.style[this.lt] = i +'px';\t\r\n\t\r\n\tif (this.exp.outline) this.exp.outline.setPosition();\r\n\t\r\n}\r\n};\r\n\r\nhs.Expander = function(a, params, custom, contentType) {\r\n\tif (document.readyState && hs.ie && !hs.isReady) {\r\n\t\ths.addEventListener(document, 'ready', function() {\r\n\t\t\tnew hs.Expander(a, params, custom, contentType);\r\n\t\t});\r\n\t\treturn;\r\n\t} \r\n\tthis.a = a;\r\n\tthis.custom = custom;\r\n\tthis.contentType = contentType || 'image';\r\n\tthis.isImage = !this.isHtml;\r\n\t\r\n\ths.continuePreloading = false;\r\n\tthis.overlays = [];\r\n\tthis.last = hs.last;\r\n\ths.last = null;\r\n\ths.init();\r\n\tvar key = this.key = hs.expanders.length;\r\n\t// override inline parameters\r\n\tfor (var i = 0; i < hs.overrides.length; i++) {\r\n\t\tvar name = hs.overrides[i];\r\n\t\tthis[name] = params && typeof params[name] != 'undefined' ?\r\n\t\t\tparams[name] : hs[name];\r\n\t}\r\n\tif (!this.src) this.src = a.href;\r\n\t\r\n\t// get thumb\r\n\tvar el = (params && params.thumbnailId) ? hs.$(params.thumbnailId) : a;\r\n\tel = this.thumb = el.getElementsByTagName('img')[0] || el;\r\n\tthis.thumbsUserSetId = el.id || a.id;\r\n\t\r\n\t// check if already open\r\n\tfor (var i = 0; i < hs.expanders.length; i++) {\r\n\t\tif (hs.expanders[i] && hs.expanders[i].a == a \r\n\t\t\t&& !(this.last && this.transitions[1] == 'crossfade')) {\r\n\t\t\ths.expanders[i].focus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\t\r\n\r\n\t// cancel other\r\n\tif (!hs.allowSimultaneousLoading) for (var i = 0; i < hs.expanders.length; i++) {\r\n\t\tif (hs.expanders[i] && hs.expanders[i].thumb != el && !hs.expanders[i].onLoadStarted) {\r\n\t\t\ths.expanders[i].cancelLoading();\r\n\t\t}\r\n\t}\n\ths.expanders[key] = this;\r\n\tif (!hs.allowMultipleInstances && !hs.upcoming) {\r\n\t\tif (hs.expanders[key-1]) hs.expanders[key-1].close();\r\n\t\tif (typeof hs.focusKey != 'undefined' && hs.expanders[hs.focusKey])\r\n\t\t\ths.expanders[hs.focusKey].close();\n\t}\r\n\t\r\n\t// initiate metrics\r\n\tthis.el = el;\r\n\tthis.tpos = this.pageOrigin || hs.getPosition(el);\r\n\ths.getPageSize();\r\n\tvar x = this.x = new hs.Dimension(this, 'x');\r\n\tx.calcThumb();\r\n\tvar y = this.y = new hs.Dimension(this, 'y');\r\n\ty.calcThumb();\n\tthis.wrapper = hs.createElement(\r\n\t\t'div', {\r\n\t\t\tid: 'highslide-wrapper-'+ this.key,\r\n\t\t\tclassName: 'highslide-wrapper '+ this.wrapperClassName\r\n\t\t}, {\r\n\t\t\tvisibility: 'hidden',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tzIndex: hs.zIndexCounter += 2\r\n\t\t}, null, true );\r\n\t\r\n\tthis.wrapper.onmouseover = this.wrapper.onmouseout = hs.wrapperMouseHandler;\r\n\tif (this.contentType == 'image' && this.outlineWhileAnimating == 2)\r\n\t\tthis.outlineWhileAnimating = 0;\r\n\t\r\n\t// get the outline\r\n\tif (!this.outlineType \r\n\t\t|| (this.last && this.isImage && this.transitions[1] == 'crossfade')) {\r\n\t\tthis[this.contentType +'Create']();\r\n\t\r\n\t} else if (hs.pendingOutlines[this.outlineType]) {\r\n\t\tthis.connectOutline();\r\n\t\tthis[this.contentType +'Create']();\r\n\t\r\n\t} else {\r\n\t\tthis.showLoading();\r\n\t\tvar exp = this;\r\n\t\tnew hs.Outline(this.outlineType, \r\n\t\t\tfunction () {\r\n\t\t\t\texp.connectOutline();\r\n\t\t\t\texp[exp.contentType +'Create']();\r\n\t\t\t} \r\n\t\t);\r\n\t}\r\n\treturn true;\n};\r\n\r\nhs.Expander.prototype = {\r\nerror : function(e) {\r\n\tif (hs.debug) alert ('Line '+ e.lineNumber +': '+ e.message);\r\n\telse window.location.href = this.src;\r\n},\r\n\r\nconnectOutline : function() {\r\n\tvar outline = this.outline = hs.pendingOutlines[this.outlineType];\r\n\toutline.exp = this;\r\n\toutline.table.style.zIndex = this.wrapper.style.zIndex - 1;\r\n\ths.pendingOutlines[this.outlineType] = null;\r\n},\r\n\r\nshowLoading : function() {\r\n\tif (this.onLoadStarted || this.loading) return;\r\n\t\r\n\tthis.loading = hs.loading;\r\n\tvar exp = this;\r\n\tthis.loading.onclick = function() {\r\n\t\texp.cancelLoading();\r\n\t};\r\n\tvar exp = this, \r\n\t\tl = this.x.get('loadingPos') +'px',\r\n\t\tt = this.y.get('loadingPos') +'px';\n\tif (!tgt && this.last && this.transitions[1] == 'crossfade') \r\n\t\tvar tgt = this.last; \r\n\tif (tgt) {\r\n\t\tl = tgt.x.get('loadingPosXfade') +'px';\r\n\t\tt = tgt.y.get('loadingPosXfade') +'px';\r\n\t\tthis.loading.style.zIndex = hs.zIndexCounter++;\r\n\t}\r\n\tsetTimeout(function () { \r\n\t\tif (exp.loading) hs.setStyles(exp.loading, { left: l, top: t, zIndex: hs.zIndexCounter++ })}\r\n\t, 100);\r\n},\r\n\r\nimageCreate : function() {\r\n\tvar exp = this;\r\n\t\r\n\tvar img = document.createElement('img');\r\n    this.content = img;\r\n    img.onload = function () {\r\n    \tif (hs.expanders[exp.key]) exp.contentLoaded(); \r\n\t};\r\n    if (hs.blockRightClick) img.oncontextmenu = function() { return false; };\r\n    img.className = 'highslide-image';\r\n    hs.setStyles(img, {\r\n    \tvisibility: 'hidden',\n    \tdisplay: 'block',\r\n    \tposition: 'absolute',\r\n\t\tmaxWidth: '9999px',\r\n\t\tzIndex: 3\r\n\t});\r\n    img.title = hs.lang.restoreTitle;\r\n\tif (hs.safari && hs.uaVersion < 525) hs.container.appendChild(img);\r\n    if (hs.ie && hs.flushImgSize) img.src = null;\r\n\timg.src = this.src;\r\n\t\r\n\tthis.showLoading();\r\n},\r\n\r\ncontentLoaded : function() {\r\n\ttry {\t\r\n\t\tif (!this.content) return;\r\n\t\tthis.content.onload = null;\n\t\tif (this.onLoadStarted) return;\n\t\telse this.onLoadStarted = true;\r\n\t\t\r\n\t\tvar x = this.x, y = this.y;\r\n\t\t\r\n\t\tif (this.loading) {\r\n\t\t\ths.setStyles(this.loading, { top: '-9999px' });\r\n\t\t\tthis.loading = null;\r\n\t\t}\t\r\n\t\t\tx.full = this.content.width;\r\n\t\t\ty.full = this.content.height;\r\n\t\t\t\r\n\t\t\ths.setStyles(this.content, {\r\n\t\t\t\twidth: x.t +'px',\r\n\t\t\t\theight: y.t +'px'\r\n\t\t\t});\r\n\t\t\tthis.wrapper.appendChild(this.content);\r\n\t\t\ths.container.appendChild(this.wrapper);\r\n\t\t\r\n\t\tx.calcBorders();\r\n\t\ty.calcBorders();\r\n\t\t\r\n\t\ths.setStyles (this.wrapper, {\n\t\t\tleft: (x.tpos + x.tb - x.cb) +'px',\r\n\t\t\ttop: (y.tpos + x.tb - y.cb) +'px'\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tthis.initSlideshow();\n\t\tthis.getOverlays();\r\n\t\t\r\n\t\tvar ratio = x.full / y.full;\r\n\t\tx.calcExpanded();\r\n\t\tthis.justify(x);\r\n\t\t\r\n\t\ty.calcExpanded();\r\n\t\tthis.justify(y);\r\n\t\tif (this.overlayBox) this.sizeOverlayBox(0, 1);\r\n\r\n\t\t\r\n\t\tif (this.allowSizeReduction) {\r\n\t\t\t\tthis.correctRatio(ratio);\n\t\t\tvar ss = this.slideshow;\t\t\t\r\n\t\t\tif (ss && this.last && ss.controls && ss.fixedControls) {\r\n\t\t\t\tvar pos = ss.overlayOptions.position || '', p;\r\n\t\t\t\tfor (var dim in hs.oPos) for (var i = 0; i < 5; i++) {\r\n\t\t\t\t\tp = this[dim];\r\n\t\t\t\t\tif (pos.match(hs.oPos[dim][i])) {\r\n\t\t\t\t\t\tp.pos = this.last[dim].pos \r\n\t\t\t\t\t\t\t+ (this.last[dim].p1 - p.p1)\r\n\t\t\t\t\t\t\t+ (this.last[dim].size - p.size) * [0, 0, .5, 1, 1][i];\r\n\t\t\t\t\t\tif (ss.fixedControls == 'fit') {\r\n\t\t\t\t\t\t\tif (p.pos + p.size + p.p1 + p.p2 > p.scroll + p.clientSize - p.marginMax)\r\n\t\t\t\t\t\t\t\tp.pos = p.scroll + p.clientSize - p.size - p.marginMin - p.marginMax - p.p1 - p.p2;\r\n\t\t\t\t\t\t\tif (p.pos < p.scroll + p.marginMin) p.pos = p.scroll + p.marginMin; \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.isImage && this.x.full > (this.x.imgSize || this.x.size)) {\r\n\t\t\t\tthis.createFullExpand();\r\n\t\t\t\tif (this.overlays.length == 1) this.sizeOverlayBox();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.show();\r\n\t\t\r\n\t} catch (e) {\r\n\t\tthis.error(e);\r\n\t}\r\n},\r\n\r\njustify : function (p, moveOnly) {\r\n\tvar tgtArr, tgt = p.target, dim = p == this.x ? 'x' : 'y';\r\n\t\r\n\tif (tgt && tgt.match(/ /)) {\r\n\t\ttgtArr = tgt.split(' ');\r\n\t\ttgt = tgtArr[0];\r\n\t}\r\n\tif (tgt && hs.$(tgt)) {\r\n\t\tp.pos = hs.getPosition(hs.$(tgt))[dim];\r\n\t\tif (tgtArr && tgtArr[1] && tgtArr[1].match(/^[-]?[0-9]+px$/)) \r\n\t\t\tp.pos += parseInt(tgtArr[1]);\r\n\t\tif (p.size < p.minSize) p.size = p.minSize;\r\n\t\t\r\n\t} else if (p.justify == 'auto' || p.justify == 'center') {\r\n\t\r\n\t\tvar hasMovedMin = false;\r\n\t\t\r\n\t\tvar allowReduce = p.exp.allowSizeReduction;\n\t\tif (p.justify == 'center')\r\n\t\t\tp.pos = Math.round(p.scroll + (p.clientSize + p.marginMin - p.marginMax - p.get('wsize')) / 2);\r\n\t\telse\r\n\t\t\tp.pos = Math.round(p.pos - ((p.get('wsize') - p.t) / 2));\n\t\tif (p.pos < p.scroll + p.marginMin) {\r\n\t\t\tp.pos = p.scroll + p.marginMin;\r\n\t\t\thasMovedMin = true;\t\t\r\n\t\t}\n\t\tif (!moveOnly && p.size < p.minSize) {\r\n\t\t\tp.size = p.minSize;\r\n\t\t\tallowReduce = false;\r\n\t\t}\n\t\tif (p.pos + p.get('wsize') > p.scroll + p.clientSize - p.marginMax) {\n\t\t\tif (!moveOnly && hasMovedMin && allowReduce) {\n\t\t\t\tp.size = Math.min(p.size, p.get(dim == 'y' ? 'fitsize' : 'maxsize'));\n\t\t\t} else if (p.get('wsize') < p.get('fitsize')) {\r\n\t\t\t\tp.pos = p.scroll + p.clientSize - p.marginMax - p.get('wsize');\n\t\t\t} else { // image larger than viewport\r\n\t\t\t\tp.pos = p.scroll + p.marginMin;\r\n\t\t\t\tif (!moveOnly && allowReduce) p.size = p.get(dim == 'y' ? 'fitsize' : 'maxsize');\r\n\t\t\t}\t\t\t\r\n\t\t}\n\t\t\r\n\t\tif (!moveOnly && p.size < p.minSize) {\r\n\t\t\tp.size = p.minSize;\r\n\t\t\tallowReduce = false;\r\n\t\t}\r\n\t\t\r\n\t\r\n\t} else if (p.justify == 'max') {\r\n\t\tp.pos = Math.floor(p.pos - p.size + p.t);\r\n\t}\r\n\t\r\n\t\t\r\n\tif (p.pos < p.marginMin) {\r\n\t\tvar tmpMin = p.pos;\r\n\t\tp.pos = p.marginMin; \r\n\t\t\r\n\t\tif (allowReduce && !moveOnly) p.size = p.size - (p.pos - tmpMin);\r\n\t\t\r\n\t}\r\n},\r\n\r\ncorrectRatio : function(ratio) {\r\n\tvar x = this.x, \r\n\t\ty = this.y,\r\n\t\tchanged = false,\n\t\txSize = Math.min(x.full, x.size),\r\n\t\tySize = Math.min(y.full, y.size),\r\n\t\tuseBox = (this.useBox || hs.padToMinWidth);\r\n\t\r\n\tif (xSize / ySize > ratio) { // width greater\r\n\t\txSize = ySize * ratio;\r\n\t\tif (xSize < x.minSize) { // below minWidth\r\n\t\t\txSize = x.minSize;\r\n\t\t\tySize = xSize / ratio;\r\n\t\t}\r\n\t\tchanged = true;\r\n\t\r\n\t} else if (xSize / ySize < ratio) { // height greater\r\n\t\tySize = xSize / ratio;\r\n\t\tchanged = true;\r\n\t}\r\n\t\r\n\tif (hs.padToMinWidth && x.full < x.minSize) {\r\n\t\tx.imgSize = x.full;\r\n\t\ty.size = y.imgSize = y.full;\r\n\t} else if (this.useBox) {\r\n\t\tx.imgSize = xSize;\r\n\t\ty.imgSize = ySize;\r\n\t} else {\r\n\t\tx.size = xSize;\r\n\t\ty.size = ySize;\r\n\t}\r\n\tchanged = this.fitOverlayBox(this.useBox ? null : ratio, changed);\n\tif (useBox && y.size < y.imgSize) {\r\n\t\ty.imgSize = y.size;\r\n\t\tx.imgSize = y.size * ratio;\r\n\t}\n\tif (changed || useBox) {\r\n\t\tx.pos = x.tpos - x.cb + x.tb;\r\n\t\tx.minSize = x.size;\r\n\t\tthis.justify(x, true);\r\n\t\r\n\t\ty.pos = y.tpos - y.cb + y.tb;\r\n\t\ty.minSize = y.size;\r\n\t\tthis.justify(y, true);\r\n\t\tif (this.overlayBox) this.sizeOverlayBox();\r\n\t}\r\n\t\r\n\t\r\n},\r\nfitOverlayBox : function(ratio, changed) {\r\n\tvar x = this.x, y = this.y;\n\tif (this.overlayBox) {\r\n\t\twhile (y.size > this.minHeight && x.size > this.minWidth \r\n\t\t\t\t&&  y.get('wsize') > y.get('fitsize')) {\r\n\t\t\ty.size -= 10;\r\n\t\t\tif (ratio) x.size = y.size * ratio;\r\n\t\t\tthis.sizeOverlayBox(0, 1);\r\n\t\t\tchanged = true;\r\n\t\t}\r\n\t}\r\n\treturn changed;\r\n},\r\n\r\nshow : function () {\r\n\tvar x = this.x, y = this.y;\r\n\tthis.doShowHide('hidden');\r\n\tif (this.slideshow && this.slideshow.thumbstrip) this.slideshow.thumbstrip.selectThumb();\r\n\t\r\n\t// Apply size change\r\n\tthis.changeSize(\r\n\t\t1, {\r\n\t\t\twrapper: {\r\n\t\t\t\twidth : x.get('wsize'),\r\n\t\t\t\theight : y.get('wsize'),\r\n\t\t\t\tleft: x.pos,\r\n\t\t\t\ttop: y.pos\r\n\t\t\t},\r\n\t\t\tcontent: {\r\n\t\t\t\tleft: x.p1 + x.get('imgPad'),\r\n\t\t\t\ttop: y.p1 + y.get('imgPad'),\r\n\t\t\t\twidth:x.imgSize ||x.size,\r\n\t\t\t\theight:y.imgSize ||y.size\r\n\t\t\t}\r\n\t\t},\r\n\t\ths.expandDuration\r\n\t);\r\n},\r\n\r\nchangeSize : function(up, to, dur) {\r\n\t// transition\r\n\tvar trans = this.transitions,\r\n\tother = up ? (this.last ? this.last.a : null) : hs.upcoming,\r\n\tt = (trans[1] && other \r\n\t\t\t&& hs.getParam(other, 'transitions')[1] == trans[1]) ?\r\n\t\ttrans[1] : trans[0];\r\n\t\t\r\n\tif (this[t] && t != 'expand') {\r\n\t\tthis[t](up, to);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif (this.outline && !this.outlineWhileAnimating) {\r\n\t\tif (up) this.outline.setPosition();\r\n\t\telse this.outline.destroy();\r\n\t}\r\n\t\r\n\t\r\n\tif (!up) this.destroyOverlays();\r\n\t\r\n\tvar exp = this,\r\n\t\tx = exp.x,\r\n\t\ty = exp.y,\r\n\t\teasing = this.easing;\r\n\tif (!up) easing = this.easingClose || easing;\n\tvar after = up ?\r\n\t\tfunction() {\r\n\t\t\t\t\r\n\t\t\tif (exp.outline) exp.outline.table.style.visibility = \"visible\";\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\texp.afterExpand();\r\n\t\t\t}, 50);\r\n\t\t} :\r\n\t\tfunction() {\r\n\t\t\texp.afterClose();\r\n\t\t};\n\tif (up) hs.setStyles( this.wrapper, {\r\n\t\twidth: x.t +'px',\r\n\t\theight: y.t +'px'\r\n\t});\n\tif (this.fadeInOut) {\r\n\t\ths.setStyles(this.wrapper, { opacity: up ? 0 : 1 });\r\n\t\ths.extend(to.wrapper, { opacity: up });\n\t}\r\n\ths.animate( this.wrapper, to.wrapper, {\r\n\t\tduration: dur,\r\n\t\teasing: easing,\r\n\t\tstep: function(val, args) {\r\n\t\t\tif (exp.outline && exp.outlineWhileAnimating && args.prop == 'top') {\r\n\t\t\t\tvar fac = up ? args.pos : 1 - args.pos;\r\n\t\t\t\tvar pos = {\r\n\t\t\t\t\tw: x.t + (x.get('wsize') - x.t) * fac,\r\n\t\t\t\t\th: y.t + (y.get('wsize') - y.t) * fac,\r\n\t\t\t\t\tx: x.tpos + (x.pos - x.tpos) * fac,\r\n\t\t\t\t\ty: y.tpos + (y.pos - y.tpos) * fac\r\n\t\t\t\t};\r\n\t\t\t\texp.outline.setPosition(pos, 0, 1);\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t});\n\ths.animate( this.content, to.content, dur, easing, after);\n\tif (up) {\r\n\t\tthis.wrapper.style.visibility = 'visible';\r\n\t\tthis.content.style.visibility = 'visible';\r\n\t\tthis.a.className += ' highslide-active-anchor';\r\n\t}\r\n},\r\n\r\n\r\n\r\nfade : function(up, to) {\r\n\tthis.outlineWhileAnimating = false;\r\n\tvar exp = this,\tt = up ? hs.expandDuration : 0;\r\n\t\r\n\tif (up) {\r\n\t\ths.animate(this.wrapper, to.wrapper, 0);\n\t\ths.setStyles(this.wrapper, { opacity: 0, visibility: 'visible' });\r\n\t\ths.animate(this.content, to.content, 0);\r\n\t\tthis.content.style.visibility = 'visible';\r\n\r\n\t\ths.animate(this.wrapper, { opacity: 1 }, t, null, \r\n\t\t\tfunction() { exp.afterExpand(); });\r\n\t}\r\n\t\r\n\tif (this.outline) {\r\n\t\tthis.outline.table.style.zIndex = this.wrapper.style.zIndex;\r\n\t\tvar dir = up || -1, \r\n\t\t\toffset = this.outline.offset,\r\n\t\t\tstartOff = up ? 3 : offset,\r\n\t\t\tendOff = up? offset : 3;\r\n\t\tfor (var i = startOff; dir * i <= dir * endOff; i += dir, t += 25) {\r\n\t\t\t(function() {\r\n\t\t\t\tvar o = up ? endOff - i : startOff - i;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\texp.outline.setPosition(0, o, 1);\r\n\t\t\t\t}, t);\r\n\t\t\t})();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tif (up) {}//setTimeout(function() { exp.afterExpand(); }, t+50);\r\n\telse {\r\n\t\tsetTimeout( function() {\r\n\t\t\tif (exp.outline) exp.outline.destroy(exp.preserveContent);\r\n\t\t\t\r\n\t\t\texp.destroyOverlays();\r\n\t\r\n\t\t\ths.animate( exp.wrapper, { opacity: 0 }, hs.restoreDuration, null, function(){\r\n\t\t\t\texp.afterClose();\r\n\t\t\t});\r\n\t\t}, t);\t\t\r\n\t}\r\n},\r\ncrossfade : function (up, to, from) {\r\n\tif (!up) return;\r\n\tvar exp = this, \r\n\t\tlast = this.last,\r\n\t\tx = this.x,\r\n\t\ty = this.y,\r\n\t\tlastX = last.x,\r\n\t\tlastY = last.y,\r\n\t\twrapper = this.wrapper,\r\n\t\tcontent = this.content,\r\n\t\toverlayBox = this.overlayBox;\r\n\ths.removeEventListener(document, 'mousemove', hs.dragHandler);\r\n\t\r\n\ths.setStyles(content, { \r\n\t\twidth: (x.imgSize || x.size) +'px', \r\n\t\theight: (y.imgSize || y.size) +'px'\t\t\r\n\t});\r\n\tif (overlayBox) overlayBox.style.overflow = 'visible';\r\n\tthis.outline = last.outline;\r\n\tif (this.outline) this.outline.exp = exp;\r\n\tlast.outline = null;\n\tvar fadeBox = hs.createElement('div', {\r\n\t\t\tclassName: 'highslide-'+ this.contentType\r\n\t\t}, { \r\n\t\t\tposition: 'absolute', \r\n\t\t\tzIndex: 4,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tdisplay: 'none'\r\n\t\t}\r\n\t);\n\tvar names = { oldImg: last, newImg: this };\r\n\tfor (var n in names) {\r\n\t\tthis[n] = names[n].content.cloneNode(!names[n].iframe); // #11\r\n\t\ths.setStyles(this[n], {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tborder: 0,\r\n\t\t\tvisibility: 'visible'\r\n\t\t});\r\n\t\tfadeBox.appendChild(this[n]);\r\n\t}\r\n\twrapper.appendChild(fadeBox);\r\n\tif (overlayBox) {\r\n\t\toverlayBox.className = '';\r\n\t\twrapper.appendChild(overlayBox);\r\n\t}\r\n\tfadeBox.style.display = '';\r\n\tlast.content.style.display = 'none';\r\n\t\r\n\t\r\n\tif (hs.safari && hs.uaVersion < 525) {\n\t\tthis.wrapper.style.visibility = 'visible';\r\n\t}\n\ths.animate(wrapper, {\r\n\t\twidth: x.size\r\n\t}, {\r\n\t\tduration: hs.transitionDuration, \r\n\t\tstep: function(val, args) {\r\n\t\t\tvar pos = args.pos,\r\n\t\t\t\tinvPos = 1 - pos;\n\t\t\tvar prop,\r\n\t\t\t\tsize = {}, \r\n\t\t\t\tprops = ['pos', 'size', 'p1', 'p2'];\r\n\t\t\tfor (var n in props) {\r\n\t\t\t\tprop = props[n];\r\n\t\t\t\tsize['x'+ prop] = Math.round(invPos * lastX[prop] + pos * x[prop]);\r\n\t\t\t\tsize['y'+ prop] = Math.round(invPos * lastY[prop] + pos * y[prop]);\n\t\t\t\tsize.ximgSize = Math.round(\r\n\t\t\t\t\tinvPos * (lastX.imgSize || lastX.size) + pos * (x.imgSize || x.size));\r\n\t\t\t\tsize.ximgPad = Math.round(invPos * lastX.get('imgPad') + pos * x.get('imgPad'));\r\n\t\t\t\tsize.yimgSize = Math.round(\r\n\t\t\t\t\tinvPos * (lastY.imgSize || lastY.size) + pos * (y.imgSize || y.size));\r\n\t\t\t\tsize.yimgPad = Math.round(invPos * lastY.get('imgPad') + pos * y.get('imgPad'));\r\n\t\t\t}\r\n\t\t\tif (exp.outline) exp.outline.setPosition({ \r\n\t\t\t\tx: size.xpos, \r\n\t\t\t\ty: size.ypos, \r\n\t\t\t\tw: size.xsize + size.xp1 + size.xp2 + 2 * x.cb, \r\n\t\t\t\th: size.ysize + size.yp1 + size.yp2 + 2 * y.cb\r\n\t\t\t});\n\t\t\tlast.wrapper.style.clip = 'rect('\r\n\t\t\t\t+ (size.ypos - lastY.pos)+'px, '\n\t\t\t\t+ (size.xsize + size.xp1 + size.xp2 + size.xpos + 2 * lastX.cb - lastX.pos) +'px, '\n\t\t\t\t+ (size.ysize + size.yp1 + size.yp2 + size.ypos + 2 * lastY.cb - lastY.pos) +'px, '\n\t\t\t\t+ (size.xpos - lastX.pos)+'px)';\n\t\t\t\t\r\n\t\t\ths.setStyles(content, {\r\n\t\t\t\ttop: (size.yp1 + y.get('imgPad')) +'px',\r\n\t\t\t\tleft: (size.xp1 + x.get('imgPad')) +'px',\r\n\t\t\t\tmarginTop: (y.pos - size.ypos) +'px',\r\n\t\t\t\tmarginLeft: (x.pos - size.xpos) +'px'\r\n\t\t\t});\r\n\t\t\ths.setStyles(wrapper, {\r\n\t\t\t\ttop: size.ypos +'px',\r\n\t\t\t\tleft: size.xpos +'px',\r\n\t\t\t\twidth: (size.xp1 + size.xp2 + size.xsize + 2 * x.cb)+ 'px',\r\n\t\t\t\theight: (size.yp1 + size.yp2 + size.ysize + 2 * y.cb) + 'px'\r\n\t\t\t});\r\n\t\t\ths.setStyles(fadeBox, {\r\n\t\t\t\twidth: (size.ximgSize || size.xsize) + 'px',\r\n\t\t\t\theight: (size.yimgSize || size.ysize) +'px',\r\n\t\t\t\tleft: (size.xp1 + size.ximgPad)  +'px',\r\n\t\t\t\ttop: (size.yp1 + size.yimgPad) +'px',\r\n\t\t\t\tvisibility: 'visible'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ths.setStyles(exp.oldImg, {\r\n\t\t\t\ttop: (lastY.pos - size.ypos + lastY.p1 - size.yp1 + lastY.get('imgPad') - size.yimgPad)+'px',\r\n\t\t\t\tleft: (lastX.pos - size.xpos + lastX.p1 - size.xp1 + lastX.get('imgPad') - size.ximgPad)+'px'\r\n\t\t\t});\t\t\r\n\t\t\t\r\n\t\t\ths.setStyles(exp.newImg, {\r\n\t\t\t\topacity: pos,\r\n\t\t\t\ttop: (y.pos - size.ypos + y.p1 - size.yp1 + y.get('imgPad') - size.yimgPad) +'px',\r\n\t\t\t\tleft: (x.pos - size.xpos + x.p1 - size.xp1 + x.get('imgPad') - size.ximgPad) +'px'\r\n\t\t\t});\r\n\t\t\tif (overlayBox) hs.setStyles(overlayBox, {\r\n\t\t\t\twidth: size.xsize + 'px',\r\n\t\t\t\theight: size.ysize +'px',\r\n\t\t\t\tleft: (size.xp1 + x.cb)  +'px',\r\n\t\t\t\ttop: (size.yp1 + y.cb) +'px'\r\n\t\t\t});\r\n\t\t},\r\n\t\tcomplete: function () {\r\n\t\t\twrapper.style.visibility = content.style.visibility = 'visible';\r\n\t\t\tcontent.style.display = 'block';\r\n\t\t\ths.discardElement(fadeBox);\r\n\t\t\texp.afterExpand();\r\n\t\t\tlast.afterClose();\r\n\t\t\texp.last = null;\r\n\t\t}\r\n\t\t\r\n\t});\r\n},\nreuseOverlay : function(o, el) {\r\n\tif (!this.last) return false;\r\n\tfor (var i = 0; i < this.last.overlays.length; i++) {\r\n\t\tvar oDiv = hs.$('hsId'+ this.last.overlays[i]);\r\n\t\tif (oDiv && oDiv.hsId == o.hsId) {\r\n\t\t\tthis.genOverlayBox();\r\n\t\t\toDiv.reuse = this.key;\r\n\t\t\ths.push(this.overlays, this.last.overlays[i]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n},\r\n\r\n\r\nafterExpand : function() {\r\n\tthis.isExpanded = true;\t\r\n\tthis.focus();\n\tif (this.dimmingOpacity) hs.dim(this);\r\n\tif (hs.upcoming && hs.upcoming == this.a) hs.upcoming = null;\n\tthis.prepareNextOutline();\n\tvar p = hs.page, mX = hs.mouse.x + p.scrollLeft, mY = hs.mouse.y + p.scrollTop;\r\n\tthis.mouseIsOver = this.x.pos < mX && mX < this.x.pos + this.x.get('wsize')\r\n\t\t&& this.y.pos < mY && mY < this.y.pos + this.y.get('wsize');\t\r\n\tif (this.overlayBox) this.showOverlays();\r\n\t\r\n},\r\n\r\n\r\nprepareNextOutline : function() {\r\n\tvar key = this.key;\r\n\tvar outlineType = this.outlineType;\r\n\tnew hs.Outline(outlineType, \r\n\t\tfunction () { try { hs.expanders[key].preloadNext(); } catch (e) {} });\r\n},\r\n\r\n\r\npreloadNext : function() {\r\n\tvar next = this.getAdjacentAnchor(1);\r\n\tif (next && next.onclick.toString().match(/hs\\.expand/)) \r\n\t\tvar img = hs.createElement('img', { src: hs.getSrc(next) });\r\n},\r\n\r\n\r\ngetAdjacentAnchor : function(op) {\r\n\tvar current = this.getAnchorIndex(), as = hs.anchors.groups[this.slideshowGroup || 'none'];\r\n\tif (as && !as[current + op] && this.slideshow && this.slideshow.repeat) {\r\n\t\tif (op == 1) return as[0];\r\n\t\telse if (op == -1) return as[as.length-1];\r\n\t}\r\n\treturn (as && as[current + op]) || null;\r\n},\r\n\r\ngetAnchorIndex : function() {\r\n\tvar arr = hs.getAnchors().groups[this.slideshowGroup || 'none'];\r\n\tif (arr) for (var i = 0; i < arr.length; i++) {\r\n\t\tif (arr[i] == this.a) return i; \r\n\t}\r\n\treturn null;\r\n},\r\n\r\n\r\ngetNumber : function() {\r\n\tif (this[this.numberPosition]) {\r\n\t\tvar arr = hs.anchors.groups[this.slideshowGroup || 'none'];\r\n\t\tif (arr) {\r\n\t\t\tvar s = hs.lang.number.replace('%1', this.getAnchorIndex() + 1).replace('%2', arr.length);\n\t\t\tthis[this.numberPosition].innerHTML = \r\n\t\t\t\t'<div class=\"highslide-number\">'+ s +'</div>'+ this[this.numberPosition].innerHTML;\r\n\t\t}\r\n\t}\r\n},\r\ninitSlideshow : function() {\r\n\tif (!this.last) {\n\t\tfor (var i = 0; i < hs.slideshows.length; i++) {\r\n\t\t\tvar ss = hs.slideshows[i], sg = ss.slideshowGroup;\r\n\t\t\tif (typeof sg == 'undefined' || sg === null || sg === this.slideshowGroup) \r\n\t\t\t\tthis.slideshow = new hs.Slideshow(this.key, ss);\r\n\t\t} \r\n\t} else {\n\t\tthis.slideshow = this.last.slideshow;\r\n\t}\r\n\tvar ss = this.slideshow;\r\n\tif (!ss) return;\r\n\tvar key = ss.expKey = this.key;\r\n\t\r\n\tss.checkFirstAndLast();\r\n\tss.disable('full-expand');\r\n\tif (ss.controls) {\r\n\t\tthis.createOverlay(hs.extend(ss.overlayOptions || {}, {\r\n\t\t\toverlayId: ss.controls,\r\n\t\t\thsId: 'controls',\r\n\t\t\tzIndex: 5\r\n\t\t}));\r\n\t}\r\n\tif (ss.thumbstrip) ss.thumbstrip.add(this);\n\tif (!this.last && this.autoplay) ss.play(true);\n\tif (ss.autoplay) {\r\n\t\tss.autoplay = setTimeout(function() {\r\n\t\t\ths.next(key);\r\n\t\t}, (ss.interval || 500));\r\n\t}\r\n},\r\n\r\ncancelLoading : function() {\r\n\ths.discardElement (this.wrapper);\r\n\ths.expanders[this.key] = null;\r\n\tif (hs.upcoming == this.a) hs.upcoming = null;\r\n\ths.undim(this.key);\r\n\tif (this.loading) hs.loading.style.left = '-9999px';\r\n},\r\n\r\nwriteCredits : function () {\r\n\tif (this.credits) return;\r\n\tthis.credits = hs.createElement('a', {\r\n\t\thref: hs.creditsHref,\r\n\t\ttarget: hs.creditsTarget,\r\n\t\tclassName: 'highslide-credits',\r\n\t\tinnerHTML: hs.lang.creditsText,\r\n\t\ttitle: hs.lang.creditsTitle\r\n\t});\r\n\tthis.createOverlay({ \r\n\t\toverlayId: this.credits, \r\n\t\tposition: this.creditsPosition || 'top left', \r\n\t\thsId: 'credits' \r\n\t});\r\n},\r\n\r\ngetInline : function(types, addOverlay) {\r\n\tfor (var i = 0; i < types.length; i++) {\r\n\t\tvar type = types[i], s = null;\n\t\tif (!this[type +'Id'] && this.thumbsUserSetId)  \r\n\t\t\tthis[type +'Id'] = type +'-for-'+ this.thumbsUserSetId;\n\t\tif (this[type +'Id']) this[type] = hs.getNode(this[type +'Id']);\n\t\tif (!this[type] && !this[type +'Text'] && this[type +'Eval']) try {\r\n\t\t\ts = eval(this[type +'Eval']);\r\n\t\t} catch (e) {}\n\t\tif (!this[type] && this[type +'Text']) {\r\n\t\t\ts = this[type +'Text'];\r\n\t\t}\n\t\tif (!this[type] && !s) {\r\n\t\t\tthis[type] = hs.getNode(this.a['_'+ type + 'Id']);\n\t\t\tif (!this[type]) {\n\t\t\t\tvar next = this.a.nextSibling;\r\n\t\t\t\twhile (next && !hs.isHsAnchor(next)) {\r\n\t\t\t\t\tif ((new RegExp('highslide-'+ type)).test(next.className || null)) {\r\n\t\t\t\t\t\tif (!next.id) this.a['_'+ type + 'Id'] = next.id = 'hsId'+ hs.idCounter++;\r\n\t\t\t\t\t\tthis[type] = hs.getNode(next.id);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnext = next.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\n\t\tif (!this[type] && !s && this.numberPosition == type) s = '\\n';\r\n\t\t\r\n\t\tif (!this[type] && s) this[type] = hs.createElement('div', \r\n\t\t\t\t{ className: 'highslide-'+ type, innerHTML: s } );\r\n\t\t\r\n\t\tif (addOverlay && this[type]) {\r\n\t\t\tvar o = { position: (type == 'heading') ? 'above' : 'below' };\n\t\t\tfor (var x in this[type+'Overlay']) o[x] = this[type+'Overlay'][x];\r\n\t\t\to.overlayId = this[type];\r\n\t\t\tthis.createOverlay(o);\r\n\t\t}\r\n\t}\r\n},\r\n\r\n\r\n// on end move and resize\r\ndoShowHide : function(visibility) {\r\n\tif (hs.hideSelects) this.showHideElements('SELECT', visibility);\r\n\tif (hs.hideIframes) this.showHideElements('IFRAME', visibility);\r\n\tif (hs.geckoMac) this.showHideElements('*', visibility);\r\n},\r\nshowHideElements : function (tagName, visibility) {\r\n\tvar els = document.getElementsByTagName(tagName);\r\n\tvar prop = tagName == '*' ? 'overflow' : 'visibility';\r\n\tfor (var i = 0; i < els.length; i++) {\r\n\t\tif (prop == 'visibility' || (document.defaultView.getComputedStyle(\r\n\t\t\t\tels[i], \"\").getPropertyValue('overflow') == 'auto'\r\n\t\t\t\t|| els[i].getAttribute('hidden-by') != null)) {\r\n\t\t\tvar hiddenBy = els[i].getAttribute('hidden-by');\r\n\t\t\tif (visibility == 'visible' && hiddenBy) {\r\n\t\t\t\thiddenBy = hiddenBy.replace('['+ this.key +']', '');\r\n\t\t\t\tels[i].setAttribute('hidden-by', hiddenBy);\r\n\t\t\t\tif (!hiddenBy) els[i].style[prop] = els[i].origProp;\r\n\t\t\t} else if (visibility == 'hidden') { // hide if behind\r\n\t\t\t\tvar elPos = hs.getPosition(els[i]);\r\n\t\t\t\telPos.w = els[i].offsetWidth;\r\n\t\t\t\telPos.h = els[i].offsetHeight;\r\n\t\t\t\tif (!this.dimmingOpacity) { // hide all if dimming\r\n\t\t\t\t\r\n\t\t\t\t\tvar clearsX = (elPos.x + elPos.w < this.x.get('opos') \r\n\t\t\t\t\t\t|| elPos.x > this.x.get('opos') + this.x.get('osize'));\r\n\t\t\t\t\tvar clearsY = (elPos.y + elPos.h < this.y.get('opos') \r\n\t\t\t\t\t\t|| elPos.y > this.y.get('opos') + this.y.get('osize'));\r\n\t\t\t\t}\r\n\t\t\t\tvar wrapperKey = hs.getWrapperKey(els[i]);\r\n\t\t\t\tif (!clearsX && !clearsY && wrapperKey != this.key) { // element falls behind image\r\n\t\t\t\t\tif (!hiddenBy) {\r\n\t\t\t\t\t\tels[i].setAttribute('hidden-by', '['+ this.key +']');\r\n\t\t\t\t\t\tels[i].origProp = els[i].style[prop];\r\n\t\t\t\t\t\tels[i].style[prop] = 'hidden';\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if (hiddenBy.indexOf('['+ this.key +']') == -1) {\r\n\t\t\t\t\t\tels[i].setAttribute('hidden-by', hiddenBy + '['+ this.key +']');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ((hiddenBy == '['+ this.key +']' || hs.focusKey == wrapperKey)\r\n\t\t\t\t\t\t&& wrapperKey != this.key) { // on move\r\n\t\t\t\t\tels[i].setAttribute('hidden-by', '');\r\n\t\t\t\t\tels[i].style[prop] = els[i].origProp || '';\r\n\t\t\t\t} else if (hiddenBy && hiddenBy.indexOf('['+ this.key +']') > -1) {\r\n\t\t\t\t\tels[i].setAttribute('hidden-by', hiddenBy.replace('['+ this.key +']', ''));\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n},\r\n\r\nfocus : function() {\r\n\tthis.wrapper.style.zIndex = hs.zIndexCounter += 2;\r\n\t// blur others\r\n\tfor (var i = 0; i < hs.expanders.length; i++) {\r\n\t\tif (hs.expanders[i] && i == hs.focusKey) {\r\n\t\t\tvar blurExp = hs.expanders[i];\r\n\t\t\tblurExp.content.className += ' highslide-'+ blurExp.contentType +'-blur';\r\n\t\t\t\tblurExp.content.style.cursor = hs.ieLt7 ? 'hand' : 'pointer';\r\n\t\t\t\tblurExp.content.title = hs.lang.focusTitle;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// focus this\r\n\tif (this.outline) this.outline.table.style.zIndex \r\n\t\t= this.wrapper.style.zIndex - 1;\r\n\tthis.content.className = 'highslide-'+ this.contentType;\r\n\t\tthis.content.title = hs.lang.restoreTitle;\r\n\t\t\r\n\t\tif (hs.restoreCursor) {\r\n\t\t\ths.styleRestoreCursor = window.opera ? 'pointer' : 'url('+ hs.graphicsDir + hs.restoreCursor +'), pointer';\r\n\t\t\tif (hs.ieLt7 && hs.uaVersion < 6) hs.styleRestoreCursor = 'hand';\r\n\t\t\tthis.content.style.cursor = hs.styleRestoreCursor;\r\n\t\t}\r\n\t\t\r\n\ths.focusKey = this.key;\t\r\n\ths.addEventListener(document, window.opera ? 'keypress' : 'keydown', hs.keyHandler);\t\r\n},\r\nmoveTo: function(x, y) {\r\n\tthis.x.setPos(x);\r\n\tthis.y.setPos(y);\r\n},\r\nresize : function (e) {\r\n\tvar w, h, r = e.width / e.height;\n\tw = Math.max(e.width + e.dX, Math.min(this.minWidth, this.x.full));\r\n\tif (this.isImage && Math.abs(w - this.x.full) < 12) w = this.x.full;\n\th = w / r;\n\tif (h < Math.min(this.minHeight, this.y.full)) {\r\n\t\th = Math.min(this.minHeight, this.y.full);\r\n\t\tif (this.isImage) w = h * r;\r\n\t}\r\n\tthis.resizeTo(w, h);\r\n},\r\nresizeTo: function(w, h) {\r\n\tthis.y.setSize(h);\n\tthis.x.setSize(w);\r\n\tthis.wrapper.style.height = this.y.get('wsize') +'px';\n},\r\n\r\nclose : function() {\r\n\tif (this.isClosing || !this.isExpanded) return;\n\tif (this.transitions[1] == 'crossfade' && hs.upcoming) {\r\n\t\ths.getExpander(hs.upcoming).cancelLoading();\r\n\t\ths.upcoming = null;\r\n\t}\r\n\tthis.isClosing = true;\r\n\tif (this.slideshow && !hs.upcoming) this.slideshow.pause();\r\n\t\r\n\ths.removeEventListener(document, window.opera ? 'keypress' : 'keydown', hs.keyHandler);\r\n\t\r\n\ttry {\r\n\t\tthis.content.style.cursor = 'default';\r\n\t\tthis.changeSize(\r\n\t\t\t0, {\r\n\t\t\t\twrapper: {\r\n\t\t\t\t\twidth : this.x.t,\r\n\t\t\t\t\theight : this.y.t,\r\n\t\t\t\t\tleft: this.x.tpos - this.x.cb + this.x.tb,\r\n\t\t\t\t\ttop: this.y.tpos - this.y.cb + this.y.tb\r\n\t\t\t\t},\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: this.x.t,\r\n\t\t\t\t\theight: this.y.t\r\n\t\t\t\t}\r\n\t\t\t}, hs.restoreDuration\r\n\t\t);\r\n\t} catch (e) { this.afterClose(); }\r\n},\r\n\r\ncreateOverlay : function (o) {\r\n\tvar el = o.overlayId, \r\n\t\trelToVP = (o.relativeTo == 'viewport' && !/panel$/.test(o.position));\r\n\tif (typeof el == 'string') el = hs.getNode(el);\r\n\tif (o.html) el = hs.createElement('div', { innerHTML: o.html });\r\n\tif (!el || typeof el == 'string') return;\r\n\tel.style.display = 'block';\r\n\to.hsId = o.hsId || o.overlayId; \r\n\tif (this.transitions[1] == 'crossfade' && this.reuseOverlay(o, el)) return;\r\n\tthis.genOverlayBox();\r\n\tvar width = o.width && /^[0-9]+(px|%)$/.test(o.width) ? o.width : 'auto';\n\tif (/^(left|right)panel$/.test(o.position) && !/^[0-9]+px$/.test(o.width)) width = '200px';\r\n\tvar overlay = hs.createElement(\r\n\t\t'div', {\r\n\t\t\tid: 'hsId'+ hs.idCounter++,\r\n\t\t\thsId: o.hsId\r\n\t\t}, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tvisibility: 'hidden',\r\n\t\t\twidth: width,\r\n\t\t\tdirection: hs.lang.cssDirection || '',\r\n\t\t\topacity: 0\r\n\t\t},\r\n\t\trelToVP ? hs.viewport :this.overlayBox,\r\n\t\ttrue\r\n\t);\r\n\tif (relToVP) overlay.hsKey = this.key;\r\n\t\r\n\toverlay.appendChild(el);\r\n\ths.extend(overlay, {\n\t\topacity: 1,\r\n\t\toffsetX: 0,\r\n\t\toffsetY: 0,\r\n\t\tdur: (o.fade === 0 || o.fade === false || (o.fade == 2 && hs.ie)) ? 0 : 250\r\n\t});\r\n\ths.extend(overlay, o);\n\t\r\n\t\t\r\n\tif (this.gotOverlays) {\n\t\tthis.positionOverlay(overlay);\r\n\t\tif (!overlay.hideOnMouseOut || this.mouseIsOver) \r\n\t\t\ths.animate(overlay, { opacity: overlay.opacity }, overlay.dur);\r\n\t}\r\n\ths.push(this.overlays, hs.idCounter - 1);\r\n},\r\npositionOverlay : function(overlay) {\r\n\tvar p = overlay.position || 'middle center',\r\n\t\trelToVP = (overlay.relativeTo == 'viewport'),\r\n\t\toffX = overlay.offsetX,\r\n\t\toffY = overlay.offsetY;\n\tif (relToVP) {\r\n\t\ths.viewport.style.display = 'block';\r\n\t\toverlay.hsKey = this.key;\r\n\t\tif (overlay.offsetWidth > overlay.parentNode.offsetWidth)\n\t\t\toverlay.style.width = '100%';\r\n\t} else\r\n\tif (overlay.parentNode != this.overlayBox) this.overlayBox.appendChild(overlay);\n\tif (/left$/.test(p)) overlay.style.left = offX +'px'; \r\n\t\r\n\tif (/center$/.test(p))\ths.setStyles (overlay, { \r\n\t\tleft: '50%',\r\n\t\tmarginLeft: (offX - Math.round(overlay.offsetWidth / 2)) +'px'\r\n\t});\t\r\n\t\r\n\tif (/right$/.test(p)) overlay.style.right = - offX +'px';\r\n\t\t\r\n\tif (/^leftpanel$/.test(p)) { \r\n\t\ths.setStyles(overlay, {\r\n\t\t\tright: '100%',\r\n\t\t\tmarginRight: this.x.cb +'px',\r\n\t\t\ttop: - this.y.cb +'px',\r\n\t\t\tbottom: - this.y.cb +'px',\r\n\t\t\toverflow: 'auto'\r\n\t\t});\t\t \r\n\t\tthis.x.p1 = overlay.offsetWidth;\r\n\t\r\n\t} else if (/^rightpanel$/.test(p)) {\r\n\t\ths.setStyles(overlay, {\r\n\t\t\tleft: '100%',\r\n\t\t\tmarginLeft: this.x.cb +'px',\r\n\t\t\ttop: - this.y.cb +'px',\r\n\t\t\tbottom: - this.y.cb +'px',\r\n\t\t\toverflow: 'auto'\r\n\t\t});\r\n\t\tthis.x.p2 = overlay.offsetWidth;\r\n\t}\n\tvar parOff = overlay.parentNode.offsetHeight;\r\n\toverlay.style.height = 'auto';\r\n\tif (relToVP && overlay.offsetHeight > parOff)\n\t\toverlay.style.height = hs.ieLt7 ? parOff +'px' : '100%';\r\n\r\n\tif (/^top/.test(p)) overlay.style.top = offY +'px'; \r\n\tif (/^middle/.test(p))\ths.setStyles (overlay, { \r\n\t\ttop: '50%', \r\n\t\tmarginTop: (offY - Math.round(overlay.offsetHeight / 2)) +'px'\r\n\t});\t\r\n\tif (/^bottom/.test(p)) overlay.style.bottom = - offY +'px';\n\tif (/^above$/.test(p)) {\r\n\t\ths.setStyles(overlay, {\r\n\t\t\tleft: (- this.x.p1 - this.x.cb) +'px',\r\n\t\t\tright: (- this.x.p2 - this.x.cb) +'px',\r\n\t\t\tbottom: '100%',\r\n\t\t\tmarginBottom: this.y.cb +'px',\r\n\t\t\twidth: 'auto'\r\n\t\t});\r\n\t\tthis.y.p1 = overlay.offsetHeight;\r\n\t\r\n\t} else if (/^below$/.test(p)) {\r\n\t\ths.setStyles(overlay, {\r\n\t\t\tposition: 'relative',\r\n\t\t\tleft: (- this.x.p1 - this.x.cb) +'px',\r\n\t\t\tright: (- this.x.p2 - this.x.cb) +'px',\r\n\t\t\ttop: '100%',\r\n\t\t\tmarginTop: this.y.cb +'px',\r\n\t\t\twidth: 'auto'\r\n\t\t});\r\n\t\tthis.y.p2 = overlay.offsetHeight;\r\n\t\toverlay.style.position = 'absolute';\n\t}\r\n},\r\n\r\ngetOverlays : function() {\t\r\n\tthis.getInline(['heading', 'caption'], true);\r\n\tthis.getNumber();\r\n\tif (this.heading && this.dragByHeading) this.heading.className += ' highslide-move';\r\n\tif (hs.showCredits) this.writeCredits();\r\n\tfor (var i = 0; i < hs.overlays.length; i++) {\r\n\t\tvar o = hs.overlays[i], tId = o.thumbnailId, sg = o.slideshowGroup;\r\n\t\tif ((!tId && !sg) || (tId && tId == this.thumbsUserSetId)\r\n\t\t\t\t|| (sg && sg === this.slideshowGroup)) {\r\n\t\t\tthis.createOverlay(o);\r\n\t\t}\r\n\t}\n\tvar os = [];\r\n\tfor (var i = 0; i < this.overlays.length; i++) {\r\n\t\tvar o = hs.$('hsId'+ this.overlays[i]);\r\n\t\tif (/panel$/.test(o.position)) this.positionOverlay(o);\r\n\t\telse hs.push(os, o);\r\n\t}\n\tfor (var i = 0; i < os.length; i++) this.positionOverlay(os[i]);\r\n\tthis.gotOverlays = true;\r\n},\r\ngenOverlayBox : function() {\r\n\tif (!this.overlayBox) this.overlayBox = hs.createElement (\r\n\t\t'div', {\r\n\t\t\tclassName: this.wrapperClassName\n\t\t}, {\r\n\t\t\tposition : 'absolute',\r\n\t\t\twidth: (this.x.size || (this.useBox ? this.width : null) \r\n\t\t\t\t|| this.x.full) +'px',\n\t\t\theight: (this.y.size || this.y.full) +'px',\n\t\t\tvisibility : 'hidden',\r\n\t\t\toverflow : 'hidden',\n\t\t\tzIndex : hs.ie ? 4 : 'auto'\r\n\t\t},\r\n\t\ths.container,\r\n\t\ttrue\r\n\t);\r\n},\r\nsizeOverlayBox : function(doWrapper, doPanels) {\r\n\tvar overlayBox = this.overlayBox, \r\n\t\tx = this.x,\r\n\t\ty = this.y;\r\n\ths.setStyles( overlayBox, {\r\n\t\twidth: x.size +'px', \r\n\t\theight: y.size +'px'\r\n\t});\r\n\tif (doWrapper || doPanels) {\r\n\t\tfor (var i = 0; i < this.overlays.length; i++) {\r\n\t\t\tvar o = hs.$('hsId'+ this.overlays[i]);\r\n\t\t\tvar ie6 = (hs.ieLt7 || document.compatMode == 'BackCompat');\r\n\t\t\tif (o && /^(above|below)$/.test(o.position)) {\n\t\t\t\tif (ie6) {\r\n\t\t\t\t\to.style.width = (overlayBox.offsetWidth + 2 * x.cb\r\n\t\t\t\t\t\t+ x.p1 + x.p2) +'px';\r\n\t\t\t\t}\n\t\t\t\ty[o.position == 'above' ? 'p1' : 'p2'] = o.offsetHeight;\r\n\t\t\t}\n\t\t\tif (o && ie6 && /^(left|right)panel$/.test(o.position)) {\r\n\t\t\t\to.style.height = (overlayBox.offsetHeight + 2* y.cb) +'px';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (doWrapper) {\r\n\t\ths.setStyles(this.content, {\r\n\t\t\ttop: y.p1 +'px'\r\n\t\t});\r\n\t\ths.setStyles(overlayBox, {\r\n\t\t\ttop: (y.p1 + y.cb) +'px'\r\n\t\t});\r\n\t}\r\n},\r\n\r\nshowOverlays : function() {\n\tvar b = this.overlayBox;\r\n\tb.className = '';\r\n\ths.setStyles(b, {\r\n\t\ttop: (this.y.p1 + this.y.cb) +'px',\r\n\t\tleft: (this.x.p1 + this.x.cb) +'px',\r\n\t\toverflow : 'visible'\r\n\t});\r\n\tif (hs.safari) b.style.visibility = 'visible';\r\n\tthis.wrapper.appendChild (b);\n\tfor (var i = 0; i < this.overlays.length; i++) {\r\n\t\tvar o = hs.$('hsId'+ this.overlays[i]);\r\n\t\to.style.zIndex = o.zIndex || 4;\r\n\t\tif (!o.hideOnMouseOut || this.mouseIsOver) {\r\n\t\t\to.style.visibility = 'visible';\r\n\t\t\ths.setStyles(o, { visibility: 'visible', display: '' });\r\n\t\t\ths.animate(o, { opacity: o.opacity }, o.dur);\r\n\t\t}\r\n\t}\r\n},\r\n\r\ndestroyOverlays : function() {\r\n\tif (!this.overlays.length) return;\r\n\tif (this.slideshow) {\n\t\tvar c = this.slideshow.controls;\r\n\t\tif (c && hs.getExpander(c) == this) c.parentNode.removeChild(c);\r\n\t}\r\n\tfor (var i = 0; i < this.overlays.length; i++) {\r\n\t\tvar o = hs.$('hsId'+ this.overlays[i]);\r\n\t\tif (o && o.parentNode == hs.viewport && hs.getExpander(o) == this) hs.discardElement(o);\r\n\t}\r\n\ths.discardElement(this.overlayBox);\r\n},\r\n\r\n\r\n\r\ncreateFullExpand : function () {\r\n\tif (this.slideshow && this.slideshow.controls) {\r\n\t\tthis.slideshow.enable('full-expand');\r\n\t\treturn;\r\n\t}\r\n\tthis.fullExpandLabel = hs.createElement(\r\n\t\t'a', {\r\n\t\t\thref: 'javascript:hs.expanders['+ this.key +'].doFullExpand();',\r\n\t\t\ttitle: hs.lang.fullExpandTitle,\r\n\t\t\tclassName: 'highslide-full-expand'\r\n\t\t}\r\n\t);\r\n\t\r\n\tthis.createOverlay({ \r\n\t\toverlayId: this.fullExpandLabel, \r\n\t\tposition: hs.fullExpandPosition, \r\n\t\thideOnMouseOut: true, \r\n\t\topacity: hs.fullExpandOpacity\r\n\t});\r\n},\r\n\r\ndoFullExpand : function () {\r\n\ttry {\r\n\t\tif (this.fullExpandLabel) hs.discardElement(this.fullExpandLabel);\r\n\t\t\r\n\t\tthis.focus();\r\n\t\tvar xSize = this.x.size,\r\n        \tySize = this.y.size;\r\n        this.resizeTo(this.x.full, this.y.full);\r\n       \r\n        var xpos = this.x.pos - (this.x.size - xSize) / 2;\r\n        if (xpos < hs.marginLeft) xpos = hs.marginLeft;\r\n       \r\n        var ypos = this.y.pos - (this.y.size - ySize) / 2;\r\n        if (ypos < hs.marginTop) ypos = hs.marginTop;\r\n       \r\n        this.moveTo(xpos, ypos);\r\n\t\tthis.doShowHide('hidden');\r\n\t\r\n\t} catch (e) {\r\n\t\tthis.error(e);\r\n\t}\r\n},\r\n\r\n\r\nafterClose : function () {\r\n\tthis.a.className = this.a.className.replace('highslide-active-anchor', '');\r\n\t\r\n\tthis.doShowHide('visible');\r\n\t\tif (this.outline && this.outlineWhileAnimating) this.outline.destroy();\r\n\t\ths.discardElement(this.wrapper);\r\n\tthis.destroyOverlays();\r\n\tif (!hs.viewport.childNodes.length) hs.viewport.style.display = 'none';\r\n\t\r\n\tif (this.dimmingOpacity) hs.undim(this.key);\r\n\ths.expanders[this.key] = null;\t\t\r\n\ths.reOrder();\r\n}\r\n\r\n};\r\n\r\n\r\nhs.Slideshow = function (expKey, options) {\r\n\tif (hs.dynamicallyUpdateAnchors !== false) hs.updateAnchors();\r\n\tthis.expKey = expKey;\r\n\tfor (var x in options) this[x] = options[x];\r\n\tif (this.useControls) this.getControls();\r\n\tif (this.thumbstrip) this.thumbstrip = hs.Thumbstrip(this);\r\n};\r\nhs.Slideshow.prototype = {\r\ngetControls: function() {\r\n\tthis.controls = hs.createElement('div', { innerHTML: hs.replaceLang(hs.skin.controls) }, \r\n\t\tnull, hs.container);\r\n\t\r\n\tvar buttons = ['play', 'pause', 'previous', 'next', 'move', 'full-expand', 'close'];\n\tthis.btn = {};\r\n\tvar pThis = this;\r\n\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\tthis.btn[buttons[i]] = hs.getElementByClass(this.controls, 'li', 'highslide-'+ buttons[i]);\r\n\t\tthis.enable(buttons[i]);\r\n\t}\n\tthis.btn.pause.style.display = 'none';\r\n\t//this.disable('full-expand');\r\n},\r\ncheckFirstAndLast: function() {\n\tif (this.repeat || !this.controls) return;\r\n\tvar exp = hs.expanders[this.expKey],\r\n\t\tcur = exp.getAnchorIndex(), \r\n\t\tre = /disabled$/;\r\n\tif (cur == 0) \r\n\t\tthis.disable('previous');\r\n\telse if (re.test(this.btn.previous.getElementsByTagName('a')[0].className))\r\n\t\tthis.enable('previous');\r\n\tif (cur + 1 == hs.anchors.groups[exp.slideshowGroup || 'none'].length) {\r\n\t\tthis.disable('next');\r\n\t\tthis.disable('play');\r\n\t} else if (re.test(this.btn.next.getElementsByTagName('a')[0].className)) {\r\n\t\tthis.enable('next');\r\n\t\tthis.enable('play');\r\n\t}\r\n},\r\nenable: function(btn) {\r\n\tif (!this.btn) return;\r\n\tvar sls = this, a = this.btn[btn].getElementsByTagName('a')[0], re = /disabled$/;\r\n\ta.onclick = function() {\r\n\t\tsls[btn]();\r\n\t\treturn false;\r\n\t};\r\n\tif (re.test(a.className)) a.className = a.className.replace(re, '');\r\n},\r\ndisable: function(btn) {\r\n\tif (!this.btn) return;\r\n\tvar a = this.btn[btn].getElementsByTagName('a')[0];\r\n\ta.onclick = function() { return false; };\r\n\tif (!/disabled$/.test(a.className)) a.className += ' disabled';\r\n},\r\nhitSpace: function() {\r\n\tif (this.autoplay) this.pause();\r\n\telse this.play();\r\n},\r\nplay: function(wait) {\r\n\tif (this.btn) {\r\n\t\tthis.btn.play.style.display = 'none';\r\n\t\tthis.btn.pause.style.display = '';\r\n\t}\r\n\t\r\n\tthis.autoplay = true;\t\r\n\tif (!wait) hs.next(this.expKey);\r\n},\r\npause: function() {\r\n\tif (this.btn) {\r\n\t\tthis.btn.pause.style.display = 'none';\r\n\t\tthis.btn.play.style.display = '';\r\n\t}\r\n\t\r\n\tclearTimeout(this.autoplay);\r\n\tthis.autoplay = null;\r\n},\r\nprevious: function() {\r\n\tthis.pause();\r\n\ths.previous(this.btn.previous);\r\n},\r\nnext: function() {\r\n\tthis.pause();\r\n\ths.next(this.btn.next);\r\n},\r\nmove: function() {},\r\n'full-expand': function() {\r\n\ths.getExpander().doFullExpand();\r\n},\r\nclose: function() {\r\n\ths.close(this.btn.close);\r\n}\r\n};\r\nhs.Thumbstrip = function(slideshow) {\r\n\tfunction add (exp) {\r\n\t\ths.extend(options || {}, {\r\n\t\t\toverlayId: dom,\r\n\t\t\thsId: 'thumbstrip',\r\n\t\t\tclassName: 'highslide-thumbstrip-'+ mode +'-overlay ' + (options.className || '')\r\n\t\t});\r\n\t\tif (hs.ieLt7) options.fade = 0;\n\t\texp.createOverlay(options);\n\t\ths.setStyles(dom.parentNode, { overflow: 'hidden' });\r\n\t};\r\n\t\r\n\tfunction scroll (delta) {\t\r\n\t\tselectThumb(undefined, Math.round(delta * dom[isX ? 'offsetWidth' : 'offsetHeight'] * 0.7));\r\n\t};\r\n\t\r\n\tfunction selectThumb (i, scrollBy) {\n\t\tif (i === undefined) for (var j = 0; j < group.length; j++) {\r\n\t\t\tif (group[j] == hs.expanders[slideshow.expKey].a) {\r\n\t\t\t\ti = j;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (i === undefined) return;\n\t\tvar as = dom.getElementsByTagName('a'),\r\n\t\t\tactive = as[i],\r\n\t\t\tcell = active.parentNode,\r\n\t\t\tleft = isX ? 'Left' : 'Top',\r\n\t\t\tright = isX ? 'Right' : 'Bottom',\r\n\t\t\twidth = isX ? 'Width' : 'Height',\r\n\t\t\toffsetLeft = 'offset' + left,\r\n\t\t\toffsetWidth = 'offset' + width,\r\n\t\t\toverlayWidth = div.parentNode.parentNode[offsetWidth],\r\n\t\t\tminTblPos = overlayWidth - table[offsetWidth],\r\n\t\t\tcurTblPos = parseInt(table.style[isX ? 'left' : 'top']) || 0,\r\n\t\t\ttblPos = curTblPos,\r\n\t\t\tmgnRight = 20;\n\t\tif (scrollBy !== undefined) {\r\n\t\t\ttblPos = curTblPos - scrollBy;\r\n\t\t\t\r\n\t\t\tif (minTblPos > 0) minTblPos = 0;\r\n\t\t\tif (tblPos > 0) tblPos = 0;\r\n\t\t\tif (tblPos < minTblPos) tblPos = minTblPos;\r\n\t\t\t\r\n\t\r\n\t\t} else {\n\t\t\tfor (var j = 0; j < as.length; j++) as[j].className = '';\r\n\t\t\tactive.className = 'highslide-active-anchor';\n\t\t\tvar activeLeft = i > 0 ? as[i - 1].parentNode[offsetLeft] : cell[offsetLeft],\r\n\t\t\t\tactiveRight = cell[offsetLeft] + cell[offsetWidth] + \r\n\t\t\t\t\t(as[i + 1] ? as[i + 1].parentNode[offsetWidth] : 0);\n\t\t\tif (activeRight > overlayWidth - curTblPos) tblPos = overlayWidth - activeRight;\r\n\t\t\telse if (activeLeft < -curTblPos) tblPos = -activeLeft;\r\n\t\t}\n\t\tvar markerPos = cell[offsetLeft] + (cell[offsetWidth] - marker[offsetWidth]) / 2 + tblPos;\n\t\ths.animate(table, isX ? { left: tblPos } : { top: tblPos }, null, 'easeOutQuad');\r\n\t\ths.animate(marker, isX ? { left: markerPos } : { top: markerPos }, null, 'easeOutQuad');\n\t\tscrollUp.style.display = tblPos < 0 ? 'block' : 'none';\r\n\t\tscrollDown.style.display = (tblPos > minTblPos)  ? 'block' : 'none';\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\t// initialize\r\n\tvar group = hs.anchors.groups[hs.expanders[slideshow.expKey].slideshowGroup || 'none'],\r\n\t\toptions = slideshow.thumbstrip,\n\t\tmode = options.mode || 'horizontal',\r\n\t\tfloatMode = (mode == 'float'),\r\n\t\ttree = floatMode ? ['div', 'ul', 'li', 'span'] : ['table', 'tbody', 'tr', 'td'],\r\n\t\tisX = (mode == 'horizontal'),\r\n\t\tdom = hs.createElement('div', {\r\n\t\t\t\tclassName: 'highslide-thumbstrip highslide-thumbstrip-'+ mode,\r\n\t\t\t\tinnerHTML:\r\n\t\t\t\t\t'<div class=\"highslide-thumbstrip-inner\">'+\r\n\t\t\t\t\t'<'+ tree[0] +'><'+ tree[1] +'></'+ tree[1] +'></'+ tree[0] +'></div>'+\r\n\t\t\t\t\t'<div class=\"highslide-scroll-up\"><div></div></div>'+\r\n\t\t\t\t\t'<div class=\"highslide-scroll-down\"><div></div></div>'+\r\n\t\t\t\t\t'<div class=\"highslide-marker\"><div></div></div>'\r\n\t\t\t}, {\r\n\t\t\t\tdisplay: 'none'\r\n\t\t\t}, hs.container),\r\n\t\tdomCh = dom.childNodes,\r\n\t\tdiv = domCh[0],\r\n\t\tscrollUp = domCh[1],\r\n\t\tscrollDown = domCh[2],\r\n\t\tmarker = domCh[3],\r\n\t\ttable = div.firstChild,\r\n\t\ttbody = dom.getElementsByTagName(tree[1])[0],\r\n\t\ttr;\n\tfor (var i = 0; i < group.length; i++) {\r\n\t\tif (i == 0 || !isX) tr = hs.createElement(tree[2], null, null, tbody);\r\n\t\t(function(){\r\n\t\t\tvar a = group[i],\r\n\t\t\t\tcell = hs.createElement(tree[3], null, null, tr),\r\n\t\t\t\tpI = i;\r\n\t\t\ths.createElement('a', {\r\n\t\t\t\thref: a.href,\r\n\t\t\t\ttitle: a.title,\r\n\t\t\t\tonclick: function() {\r\n\t\t\t\t\tif (/highslide-active-anchor/.test(this.className)) return false;\r\n\t\t\t\t\ths.getExpander(this).focus();\r\n\t\t\t\t\treturn hs.transit(a);\r\n\t\t\t\t},\r\n\t\t\t\tinnerHTML: hs.stripItemFormatter ? hs.stripItemFormatter(a) : a.innerHTML\r\n\t\t\t}, null, cell);\r\n\t\t})();\r\n\t}\n\tif (!floatMode) {\n\t\tscrollUp.onclick = function () { scroll(-1); };\r\n\t\tscrollDown.onclick = function() { scroll(1); };\n\t\ths.addEventListener(tbody, document.onmousewheel !== undefined ? \r\n\t\t\t\t'mousewheel' : 'DOMMouseScroll', function(e) {        \r\n\t\t\tvar delta = 0;\r\n\t        e = e || window.event;\r\n\t        if (e.wheelDelta) {\n\t\t\t\tdelta = e.wheelDelta/120;\r\n\t\t\t\tif (hs.opera) delta = -delta;\r\n\t        } else if (e.detail) {\n\t\t\t\tdelta = -e.detail/3;\r\n\t        }\r\n\t        if (delta) scroll(-delta * 0.2);\r\n\t\t\tif (e.preventDefault) e.preventDefault();\r\n\t\t\te.returnValue = false;\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tadd: add,\r\n\t\tselectThumb: selectThumb\r\n\t}\r\n};\nhs.langDefaults = hs.lang;\r\n// history\r\nvar HsExpander = hs.Expander;\nif (hs.ie && window == window.top) {\n\t(function () {\r\n\t\ttry {\r\n\t\t\tdocument.documentElement.doScroll('left');\r\n\t\t} catch (e) {\r\n\t\t\tsetTimeout(arguments.callee, 50);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ths.ready();\r\n\t})();\r\n}\r\nhs.addEventListener(document, 'DOMContentLoaded', hs.ready);\nhs.addEventListener(window, 'load', hs.ready);\n\r\n// set handlers\nhs.addEventListener(document, 'ready', function() {\r\n\tif (hs.expandCursor || hs.dimmingOpacity) {\r\n\t\tvar style = hs.createElement('style', { type: 'text/css' }, null, \r\n\t\t\tdocument.getElementsByTagName('HEAD')[0]), \r\n\t\t\tbackCompat = document.compatMode == 'BackCompat';\r\n\t\t\t\r\n\t\t\r\n\t\tfunction addRule(sel, dec) {\r\n\t\t\tif (hs.ie && (hs.uaVersion < 9 || backCompat)) {\r\n\t\t\t\tvar last = document.styleSheets[document.styleSheets.length - 1];\r\n\t\t\t\tif (typeof(last.addRule) == \"object\") last.addRule(sel, dec);\r\n\t\t\t} else {\r\n\t\t\t\tstyle.appendChild(document.createTextNode(sel + \" {\" + dec + \"}\"));\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction fix(prop) {\r\n\t\t\treturn 'expression( ( ( ignoreMe = document.documentElement.'+ prop +\r\n\t\t\t\t' ? document.documentElement.'+ prop +' : document.body.'+ prop +' ) ) + \\'px\\' );';\r\n\t\t}\n\t\tif (hs.expandCursor) addRule ('.highslide img', \r\n\t\t\t'cursor: url('+ hs.graphicsDir + hs.expandCursor +'), pointer !important;');\n\t\taddRule ('.highslide-viewport-size',\r\n\t\t\ths.ie && (hs.uaVersion < 7 || backCompat) ?\r\n\t\t\t\t'position: absolute; '+\r\n\t\t\t\t'left:'+ fix('scrollLeft') +\r\n\t\t\t\t'top:'+ fix('scrollTop') +\r\n\t\t\t\t'width:'+ fix('clientWidth') +\r\n\t\t\t\t'height:'+ fix('clientHeight') :\r\n\t\t\t\t'position: fixed; width: 100%; height: 100%; left: 0; top: 0');\r\n\t}\r\n});\r\nhs.addEventListener(window, 'resize', function() {\r\n\ths.getPageSize();\r\n\tif (hs.viewport) for (var i = 0; i < hs.viewport.childNodes.length; i++) {\r\n\t\tvar node = hs.viewport.childNodes[i],\r\n\t\t\texp = hs.getExpander(node);\r\n\t\texp.positionOverlay(node);\r\n\t\tif (node.hsId == 'thumbstrip') exp.slideshow.thumbstrip.selectThumb();\r\n\t}\r\n});\r\nhs.addEventListener(document, 'mousemove', function(e) {\r\n\ths.mouse = { x: e.clientX, y: e.clientY\t};\r\n});\r\nhs.addEventListener(document, 'mousedown', hs.mouseClickHandler);\r\nhs.addEventListener(document, 'mouseup', hs.mouseClickHandler);\r\n\r\nhs.addEventListener(document, 'ready', hs.getAnchors);\r\nhs.addEventListener(window, 'load', hs.preloadImages);\r\n}\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;;;;;;;;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAyBA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAiCA;AAGA;AACA;AACA;AACA;AACA;AAuCA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AANA;AAQA;AACA;AAFA;AACA;AAIA;AAAA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AApBA;AACA;AAqBA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAWA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAOA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AADA;AACA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AA/yBA;AACA;AAgzBA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AA/DA;AAmEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAbA;AADA;AACA;AAiBA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAGA;AACA;AACA;AACA;AAJA;AASA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAUA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAGA;AAEA;AACA;AAEA;AAjFA;AACA;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAhBA;AAmBA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AA1FA;AACA;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAFA;AAMA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAZA;AAaA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAPA;AAgBA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAdA;AAgBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAJA;AAOA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3EA;AA8EA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAPA;AAeA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AALA;AAUA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AADA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAPA;AAYA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAhmCA;AACA;AAomCA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFA;AACA;AAoFA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAFA;AASA;AADA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwBA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAeA;AAEA;AACA;AAjBA;AAAA;AAAA;AAAA;AAiBA;AAEA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;A","sourceRoot":""}